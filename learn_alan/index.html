
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="A GPGPU-native programming language for the rest of us">
      
      
      
        <link rel="canonical" href="https://docs.alan-lang.org/learn_alan/">
      
      
        <link rel="prev" href="../getting_started/">
      
      
        <link rel="next" href="../reference_guides/">
      
      
        <link rel="alternate" type="application/rss+xml" title="RSS feed" href="../feed_rss_created.xml">
        <link rel="alternate" type="application/rss+xml" title="RSS feed of updated content" href="../feed_rss_updated.xml">
      
      <link rel="icon" href="../assets/logo.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.6.7">
    
    
      
        <title>Learn Alan - The Alan Programming Language</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.8608ea7d.min.css">
      
        
        <link rel="stylesheet" href="../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        
        <link rel="stylesheet" href="../assets/external/fonts.googleapis.com/css.49ea35f2.css">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../stylesheets/extra.css">
    
    <script>__md_scope=new URL("..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
      
        <meta  property="og:type"  content="website" >
      
        <meta  property="og:title"  content="Learn Alan - The Alan Programming Language" >
      
        <meta  property="og:description"  content="A GPGPU-native programming language for the rest of us" >
      
        <meta  property="og:image"  content="https://docs.alan-lang.org/assets/images/social/learn_alan/index.png" >
      
        <meta  property="og:image:type"  content="image/png" >
      
        <meta  property="og:image:width"  content="1200" >
      
        <meta  property="og:image:height"  content="630" >
      
        <meta  property="og:url"  content="https://docs.alan-lang.org/learn_alan/" >
      
        <meta  name="twitter:card"  content="summary_large_image" >
      
        <meta  name="twitter:title"  content="Learn Alan - The Alan Programming Language" >
      
        <meta  name="twitter:description"  content="A GPGPU-native programming language for the rest of us" >
      
        <meta  name="twitter:image"  content="https://docs.alan-lang.org/assets/images/social/learn_alan/index.png" >
      
    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="custom" data-md-color-accent="custom">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#learn-alan" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow md-header--lifted" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href=".." title="The Alan Programming Language" class="md-header__button md-logo" aria-label="The Alan Programming Language" data-md-component="logo">
      
  <img src="../assets/logo.png" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            The Alan Programming Language
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Learn Alan
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme)" data-md-color-scheme="default" data-md-color-primary="custom" data-md-color-accent="custom"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="m14.3 16-.7-2h-3.2l-.7 2H7.8L11 7h2l3.2 9zM20 8.69V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12zm-9.15 3.96h2.3L12 9z"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme="default" data-md-color-primary="custom" data-md-color-accent="custom"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_2" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a4 4 0 0 0-4 4 4 4 0 0 0 4 4 4 4 0 0 0 4-4 4 4 0 0 0-4-4m0 10a6 6 0 0 1-6-6 6 6 0 0 1 6-6 6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme="slate" data-md-color-primary="custom" data-md-color-accent="custom"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_2">
    
      <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 18c-.89 0-1.74-.2-2.5-.55C11.56 16.5 13 14.42 13 12s-1.44-4.5-3.5-5.45C10.26 6.2 11.11 6 12 6a6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"/></svg>
      </label>
    
  
</form>
      
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
          <a href="javascript:void(0)" class="md-search__icon md-icon" title="Share" aria-label="Share" data-clipboard data-clipboard-text="" data-md-component="search-share" tabindex="-1">
            
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7s-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9a3 3 0 0 0-3 3 3 3 0 0 0 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.15c-.05.21-.08.43-.08.66 0 1.61 1.31 2.91 2.92 2.91s2.92-1.3 2.92-2.91A2.92 2.92 0 0 0 18 16.08"/></svg>
          </a>
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
        <div class="md-search__suggest" data-md-component="search-suggest"></div>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/alantech/alan" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81"/></svg>
  </div>
  <div class="md-source__repository">
    alantech/alan
  </div>
</a>
      </div>
    
  </nav>
  
    
      
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href=".." class="md-tabs__link">
          
  
    
  
  Home

        </a>
      </li>
    
  

      
        
  
  
  
    <li class="md-tabs__item">
      <a href="../getting_started/" class="md-tabs__link">
        
  
    
  
  Getting Started

      </a>
    </li>
  

      
        
  
  
    
  
  
    <li class="md-tabs__item md-tabs__item--active">
      <a href="./" class="md-tabs__link">
        
  
    
  
  Learn Alan

      </a>
    </li>
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../reference_guides/" class="md-tabs__link">
          
  
    
  
  Reference Guides

        </a>
      </li>
    
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../blog/" class="md-tabs__link">
          
  
    
  
  Articles

        </a>
      </li>
    
  

      
    </ul>
  </div>
</nav>
    
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  


  

<nav class="md-nav md-nav--primary md-nav--lifted md-nav--integrated" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href=".." title="The Alan Programming Language" class="md-nav__button md-logo" aria-label="The Alan Programming Language" data-md-component="logo">
      
  <img src="../assets/logo.png" alt="logo">

    </a>
    The Alan Programming Language
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/alantech/alan" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81"/></svg>
  </div>
  <div class="md-source__repository">
    alantech/alan
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    
    
      
        
          
        
      
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_1" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href=".." class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    Home
    
  </span>
  

            </a>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_1">
            <span class="md-nav__icon md-icon"></span>
            Home
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../getting_started/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Getting Started
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  <span class="md-ellipsis">
    Learn Alan
    
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  <span class="md-ellipsis">
    Learn Alan
    
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#hello-world" class="md-nav__link">
    <span class="md-ellipsis">
      Hello, World!
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#method-and-property-syntax" class="md-nav__link">
    <span class="md-ellipsis">
      Method and Property Syntax
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#variables" class="md-nav__link">
    <span class="md-ellipsis">
      Variables
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#mutable-arguments" class="md-nav__link">
    <span class="md-ellipsis">
      Mutable Arguments
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#primitive-types" class="md-nav__link">
    <span class="md-ellipsis">
      Primitive Types
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Primitive Types">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#integers" class="md-nav__link">
    <span class="md-ellipsis">
      Integers
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#floats" class="md-nav__link">
    <span class="md-ellipsis">
      Floats
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#booleans" class="md-nav__link">
    <span class="md-ellipsis">
      Booleans
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#strings" class="md-nav__link">
    <span class="md-ellipsis">
      Strings
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#void" class="md-nav__link">
    <span class="md-ellipsis">
      Void
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#generic-types" class="md-nav__link">
    <span class="md-ellipsis">
      Generic Types
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#type-aliases" class="md-nav__link">
    <span class="md-ellipsis">
      Type Aliases
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#product-types-tuples-and-structs" class="md-nav__link">
    <span class="md-ellipsis">
      Product Types (Tuples and Structs)
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Product Types (Tuples and Structs)">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#tuples" class="md-nav__link">
    <span class="md-ellipsis">
      Tuples
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#structs" class="md-nav__link">
    <span class="md-ellipsis">
      Structs
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#structuples" class="md-nav__link">
    <span class="md-ellipsis">
      Structuples?
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#anonymous-type-construction" class="md-nav__link">
    <span class="md-ellipsis">
      Anonymous Type Construction
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#type-properties" class="md-nav__link">
    <span class="md-ellipsis">
      Type Properties
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#sum-types-type-unions-maybe-fallible-and-tagged-unions" class="md-nav__link">
    <span class="md-ellipsis">
      Sum Types (Type Unions, Maybe, Fallible, and Tagged Unions)
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Sum Types (Type Unions, Maybe, Fallible, and Tagged Unions)">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#type-unions" class="md-nav__link">
    <span class="md-ellipsis">
      Type Unions
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#the-maybe-type" class="md-nav__link">
    <span class="md-ellipsis">
      The Maybe Type
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#the-fallible-type" class="md-nav__link">
    <span class="md-ellipsis">
      The Fallible Type
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tagged-unions" class="md-nav__link">
    <span class="md-ellipsis">
      Tagged Unions
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#type-properties-again" class="md-nav__link">
    <span class="md-ellipsis">
      Type Properties (Again)
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#buffer-types" class="md-nav__link">
    <span class="md-ellipsis">
      Buffer Types
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#array-types" class="md-nav__link">
    <span class="md-ellipsis">
      Array Types
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#set-types" class="md-nav__link">
    <span class="md-ellipsis">
      Set Types
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#dictionary-types" class="md-nav__link">
    <span class="md-ellipsis">
      Dictionary Types
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#the-gbuffer-and-gpgpu-types" class="md-nav__link">
    <span class="md-ellipsis">
      The GBuffer and GPGPU Types
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#higher-order-functions-and-generic-functions" class="md-nav__link">
    <span class="md-ellipsis">
      Higher-Order Functions and Generic Functions
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Higher-Order Functions and Generic Functions">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#higher-order-functions" class="md-nav__link">
    <span class="md-ellipsis">
      Higher-Order Functions
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#function-type-digression" class="md-nav__link">
    <span class="md-ellipsis">
      Function Type Digression
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#generic-functions" class="md-nav__link">
    <span class="md-ellipsis">
      Generic Functions
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#default-value-digression" class="md-nav__link">
    <span class="md-ellipsis">
      Default Value Digression
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#compile-time-computation-conditional-types-and-conditional-compilation" class="md-nav__link">
    <span class="md-ellipsis">
      Compile-Time Computation, Conditional Types, and Conditional Compilation
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Compile-Time Computation, Conditional Types, and Conditional Compilation">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#compile-time-computation" class="md-nav__link">
    <span class="md-ellipsis">
      Compile-Time Computation
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#conditional-types" class="md-nav__link">
    <span class="md-ellipsis">
      Conditional Types
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tagged-types-digression" class="md-nav__link">
    <span class="md-ellipsis">
      Tagged Types Digression
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#conditional-compilation" class="md-nav__link">
    <span class="md-ellipsis">
      Conditional Compilation
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#operators-and-type-operators" class="md-nav__link">
    <span class="md-ellipsis">
      Operators and Type Operators
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Operators and Type Operators">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#augmenting-operators" class="md-nav__link">
    <span class="md-ellipsis">
      Augmenting Operators
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#defining-new-operators" class="md-nav__link">
    <span class="md-ellipsis">
      Defining New Operators
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#binding-functions-and-types-from-rust-or-javascript" class="md-nav__link">
    <span class="md-ellipsis">
      Binding Functions and Types from Rust (or Javascript)
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Binding Functions and Types from Rust (or Javascript)">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#binding-functions" class="md-nav__link">
    <span class="md-ellipsis">
      Binding Functions
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#binding-functions-from-platform-specific-libraries" class="md-nav__link">
    <span class="md-ellipsis">
      Binding Functions from Platform-specific Libraries
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#binding-types" class="md-nav__link">
    <span class="md-ellipsis">
      Binding Types
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#binding-types-from-platform-specific-libraries" class="md-nav__link">
    <span class="md-ellipsis">
      Binding Types from Platform-specific Libraries
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#conditional-statements" class="md-nav__link">
    <span class="md-ellipsis">
      Conditional Statements
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#interfaces-aka-types-of-types" class="md-nav__link">
    <span class="md-ellipsis">
      Interfaces (AKA Types of Types)
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#importing-from-files-and-libraries" class="md-nav__link">
    <span class="md-ellipsis">
      Importing from Files and Libraries
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#testing-your-code" class="md-nav__link">
    <span class="md-ellipsis">
      Testing your Code
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#want-to-learn-more" class="md-nav__link">
    <span class="md-ellipsis">
      Want to Learn More?
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_4" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../reference_guides/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    Reference Guides
    
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_4" id="__nav_4_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            Reference Guides
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../overview/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    An Overview of Alan
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../built_ins/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Built-ins
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../standard_library/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    The Standard Library
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
          
        
      
        
      
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_5" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../blog/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    Articles
    
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_5" id="__nav_5_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5">
            <span class="md-nav__icon md-icon"></span>
            Articles
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href=".." class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Archive
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


  
  


<h1 id="learn-alan">Learn Alan</h1>
<p>Let's go through some examples of Alan code, starting from the classic <code>"Hello, World!"</code> to advanced types and GPGPU computing.</p>
<h2 id="hello-world">Hello, World!</h2>
<p>In Alan, you write to the terminal with <code>print</code>, and the entry point to all Alan programs is a function named <code>main</code> that must be <code>export</code>ed so it is public and callable. It can look like this:</p>
<div class="language-rs highlight"><pre><span></span><code><span class="n">export</span><span class="w"> </span><span class="k">fn</span><span class="w"> </span><span class="nf">main</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="n">print</span><span class="p">(</span><span class="s">&quot;Hello, World!&quot;</span><span class="p">);</span>
<span class="p">}</span>
</code></pre></div>
<p>The function takes no arguments and we didn't declare what it returns, but we could have declared that it returned nothing by instead writing:</p>
<div class="language-rs highlight"><pre><span></span><code><span class="n">export</span><span class="w"> </span><span class="k">fn</span><span class="w"> </span><span class="nf">main</span><span class="p">()</span><span class="w"> </span><span class="p">-&gt;</span><span class="w"> </span><span class="nc">void</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="n">print</span><span class="p">(</span><span class="s">&quot;Hello, World!&quot;</span><span class="p">);</span>
<span class="p">}</span>
</code></pre></div>
<p><code>void</code> is itself a simple alias for <code>()</code> - a grouping of nothing, which coincidentally is what the arguments were, making this the same thing:</p>
<div class="language-rs highlight"><pre><span></span><code><span class="n">export</span><span class="w"> </span><span class="k">fn</span><span class="w"> </span><span class="nf">main</span><span class="p">()</span><span class="w"> </span><span class="p">-&gt;</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="n">print</span><span class="p">(</span><span class="s">&quot;Hello, World!&quot;</span><span class="p">);</span>
<span class="p">}</span>
</code></pre></div>
<p>When a function takes no input and returns no output (making it a purely side-effect function), we can elide all of that type information and just write:</p>
<div class="language-rs highlight"><pre><span></span><code><span class="n">export</span><span class="w"> </span><span class="k">fn</span><span class="w"> </span><span class="nf">main</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="n">print</span><span class="p">(</span><span class="s">&quot;Hello, World!&quot;</span><span class="p">);</span>
<span class="p">}</span>
</code></pre></div>
<p>And when a function consists of a single statement, we can state that the function is equal to that statement, and we can reduce it to just:</p>
<div class="language-rs highlight"><pre><span></span><code><span class="n">export</span><span class="w"> </span><span class="k">fn</span><span class="w"> </span><span class="nf">main</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">print</span><span class="p">(</span><span class="s">&quot;Hello, World!&quot;</span><span class="p">);</span>
</code></pre></div>
<p>Which is the version of the <code>"Hello, World!"</code> program included in the <a href="getting_started/index.md">Getting Started</a> guide.</p>
<h2 id="method-and-property-syntax">Method and Property Syntax</h2>
<p>In Alan, there are no methods on classes or properties on types. There are only functions. But you can choose to use any function with method syntax if that improves the legibility, and certain functions can be used with property syntax, which is a special case of method syntax.</p>
<p>Method syntax allows you to specify the first argument, followed by a dot (<code>.</code>), then followed by the function name and parenthesis.</p>
<div class="language-rs highlight"><pre><span></span><code><span class="n">export</span><span class="w"> </span><span class="k">fn</span><span class="w"> </span><span class="nf">main</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="s">&quot;Hello, World!&quot;</span><span class="p">.</span><span class="n">print</span><span class="p">();</span>
<span class="p">}</span>
</code></pre></div>
<p>If there's more than one argument to a function, the remaining arguments are included in the parenthesis.</p>
<div class="language-rs highlight"><pre><span></span><code><span class="n">export</span><span class="w"> </span><span class="k">fn</span><span class="w"> </span><span class="nf">main</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="mf">1.</span><span class="n">add</span><span class="p">(</span><span class="mi">2</span><span class="p">).</span><span class="n">print</span><span class="p">();</span><span class="w"> </span><span class="c1">// Prints 3</span>
<span class="p">}</span>
</code></pre></div>
<p>When the function takes a single argument, it may also be used in property syntax, where the parenthesis are elided.</p>
<div class="language-rs highlight"><pre><span></span><code><span class="n">export</span><span class="w"> </span><span class="k">fn</span><span class="w"> </span><span class="nf">main</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;Hello, World!&quot;</span><span class="p">.</span><span class="n">print</span><span class="p">;</span>
</code></pre></div>
<p>This makes more sense for the accessor functions on your types, but can also be useful to allow a "property" to continue to exist for a type even when the value is no longer directly stored in the type.</p>
<h2 id="variables">Variables</h2>
<p>In Alan, variables are declared with <code>let</code> and <code>const</code>. <code>let</code> variables may have their value changed, while <code>const</code> variables are immutable the moment they are assigned. This means <code>let</code> variables can be re-assigned, while <code>const</code> cannot.</p>
<div class="language-rs highlight"><pre><span></span><code><span class="n">export</span><span class="w"> </span><span class="k">fn</span><span class="w"> </span><span class="nf">main</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="kd">let</span><span class="w"> </span><span class="n">message</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;Hello, World!&quot;</span><span class="p">;</span><span class="w"> </span><span class="c1">// Ok</span>
<span class="w">  </span><span class="n">print</span><span class="p">(</span><span class="n">message</span><span class="p">);</span><span class="w"> </span><span class="c1">// Prints Hello, World!</span>
<span class="w">  </span><span class="k">const</span><span class="w"> </span><span class="n">response</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;Hello to you, developer!&quot;</span><span class="p">;</span><span class="w"> </span><span class="c1">// Ok</span>
<span class="w">  </span><span class="n">print</span><span class="p">(</span><span class="n">response</span><span class="p">);</span><span class="w"> </span><span class="c1">// Prints Hello to you, developer!</span>
<span class="w">  </span><span class="n">message</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;Goodbye, World!&quot;</span><span class="p">;</span><span class="w"> </span><span class="c1">// Ok</span>
<span class="w">  </span><span class="n">print</span><span class="p">(</span><span class="n">message</span><span class="p">);</span><span class="w"> </span><span class="c1">// Prints Goodbye, World!</span>
<span class="w">  </span><span class="n">response</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;Goodbye, developer!&quot;</span><span class="p">;</span><span class="w"> </span><span class="c1">// Compiler error</span>
<span class="w">  </span><span class="o">..</span><span class="p">.</span>
</code></pre></div>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>For developers coming from Javascript, the behavior of <code>const</code> is stricter. Even if you don't re-assign the variable but instead just wish to mutate it, like <code>pop</code>ing a value off of an array, a variable defined <code>const</code> will fail to compile in that situation.</p>
</div>
<p>There is a built-in <code>clone</code> function in Alan that lets you make a copy of <em>any</em> variable, so if you find yourself wanting to mutate a value that was provided as a <code>const</code>, you can simply <code>let</code> assign its <code>clone</code>.</p>
<div class="language-rs highlight"><pre><span></span><code><span class="kd">let</span><span class="w"> </span><span class="n">myMutableVariable</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">myConstant</span><span class="p">.</span><span class="n">clone</span><span class="p">();</span>
</code></pre></div>
<h2 id="mutable-arguments">Mutable Arguments</h2>
<p>Relatedly, when you pass variables to a function in Alan, that function can declare whether or not it wants to mutate the variable while running. In that case, either a bare value needs to be passed in at this point (and the mutation ignored), or the variable passed in <em>must</em> be a <code>let</code> variable, not a <code>const</code>.</p>
<p>By default all functions in Alan get their own copies of the variables passed in, so if they mutate it but do not return that mutation, the mutation is lost after the function call is complete.</p>
<p>If you want that mutation to persist past the function call and don't want to make it the return value, you must declare that you are mutating the original variable by wrapping the variable's type in <code>Mut{T}</code>.</p>
<div class="language-rs highlight"><pre><span></span><code><span class="k">fn</span><span class="w"> </span><span class="nf">increment</span><span class="p">(</span><span class="n">a</span><span class="p">:</span><span class="w"> </span><span class="nc">Mut</span><span class="p">{</span><span class="kt">i64</span><span class="p">},</span><span class="w"> </span><span class="n">b</span><span class="p">:</span><span class="w"> </span><span class="kt">i64</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="n">a</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">a</span><span class="p">.</span><span class="n">clone</span><span class="p">()</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">b</span><span class="p">;</span>
<span class="p">}</span>

<span class="n">export</span><span class="w"> </span><span class="k">fn</span><span class="w"> </span><span class="nf">main</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="kd">let</span><span class="w"> </span><span class="n">five</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">3</span><span class="p">;</span>
<span class="w">  </span><span class="n">five</span><span class="p">.</span><span class="n">print</span><span class="p">;</span>
<span class="w">  </span><span class="n">five</span><span class="p">.</span><span class="n">increment</span><span class="p">(</span><span class="mi">2</span><span class="p">);</span>
<span class="w">  </span><span class="n">five</span><span class="p">.</span><span class="n">print</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div>
<p>which will print 3, followed by 5. In this example, <code>i64</code> is the "primitive type" of the integers, and <code>Mut{i64}</code> is a realized "generic type" indicating that we want to be able to mutate the integer that was passed into our function. We'll go over all of these, starting with primitive types.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Arguments in Alan are <em>conceptually</em> <a href="https://en.wikipedia.org/wiki/Evaluation_strategy#Call_by_value">call-by-value</a> by default, though it passes immutable references (<code>&amp;</code>) when compiling via Rust rather than full copies of the data. If the variable is mutated within that scope then it will make a copy of that variable via <code>clone</code> instead of producing a compiler error as Rust would do in a similar circumstance. All arguments to a function are treated as if they were <code>let</code> bound.</p>
<p>When <code>Mut{T}</code> is applied to an argument it switches semantically to <a href="https://en.wikipedia.org/wiki/Evaluation_strategy#Call_by_reference">call-by-reference</a>, using a mutable reference (<code>&amp;mut</code>) when compiling via Rust.</p>
<p>Alan does not generate functions that take ownership of the provided argument like Rust does, primarily because this concept is foreign to most developers, but the function binding logic does support calling functions implemented in Rust that do this via the <code>Own{T}</code> generic type. Under the hood it is calling <code>clone</code> for you automatically to prevent an unexpected semantic drift, though that may be optimized away if you never use that variable again in a future version of the compiler.</p>
</div>
<h2 id="primitive-types">Primitive Types</h2>
<p>Alan has many built-in types, but a few of them are considered "primitive." These are types that have a special representation in the language itself: <code>int</code>, <code>float</code>, <code>bool</code>, <code>string</code>, and <code>void</code>.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p><code>int</code> and <code>float</code> are currently actually <code>i64</code> and <code>f64</code>. It is planned to have automatic coercion of the integer and float syntactic constructs into the "best" int and float type as determined by type inference, but this has not yet been done. They are always automatically coerced to their 64-bit representations and the user must explicitly cast to a smaller type if desired.</p>
</div>
<h3 id="integers">Integers</h3>
<p>Integers in Alan have several different valid representations: Base 10, Base 2, Base 8, and Base 16.</p>
<p>Base 10 are simply the regular 10 digits, <code>0..9</code> in any order desired.</p>
<div class="language-rs highlight"><pre><span></span><code><span class="kd">let</span><span class="w"> </span><span class="n">five</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">5</span><span class="p">;</span>
</code></pre></div>
<p>Base 2, 8, and 16 require a leading <code>0</code> followed by <code>b</code>, <code>o</code>, and <code>x</code>, respectively, and then the digits involved.</p>
<div class="language-rs highlight"><pre><span></span><code><span class="kd">let</span><span class="w"> </span><span class="n">two</span><span class="w">     </span><span class="o">=</span><span class="w"> </span><span class="mb">0b10</span><span class="p">;</span>
<span class="kd">let</span><span class="w"> </span><span class="n">eight</span><span class="w">   </span><span class="o">=</span><span class="w"> </span><span class="mo">0o10</span><span class="p">;</span>
<span class="kd">let</span><span class="w"> </span><span class="n">sixteen</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mh">0x10</span><span class="p">;</span>
</code></pre></div>
<p>For all of the integer types, underscores are allowed to be inserted to act as separators for easier reading of the numbers:</p>
<div class="language-rs highlight"><pre><span></span><code><span class="kd">let</span><span class="w"> </span><span class="n">million</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1_000_000</span><span class="p">;</span>
<span class="kd">let</span><span class="w"> </span><span class="n">lakh</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1_00_000</span><span class="p">;</span>
</code></pre></div>
<p>Alan doesn't care where the understores are inserted, so place them anywhere that makes sense to you. The only restriction is that you can't have a leading underscore.</p>
<p>Because the other base types are generally used when doing bitwise arithmetic, they do not have a negative representation, only base-10 has this syntactic feature:</p>
<div class="language-rs highlight"><pre><span></span><code><span class="kd">let</span><span class="w"> </span><span class="n">negative_five</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">-</span><span class="mi">5</span><span class="p">;</span>
</code></pre></div>
<h3 id="floats">Floats</h3>
<p>Floating-point numbers have two representations: Decimal and Scientific Notation.</p>
<div class="language-rs highlight"><pre><span></span><code><span class="kd">let</span><span class="w"> </span><span class="n">decimal</span><span class="w">    </span><span class="o">=</span><span class="w"> </span><span class="mf">12.34</span><span class="p">;</span>
<span class="kd">let</span><span class="w"> </span><span class="n">scientific</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mf">1.234e1</span><span class="p">;</span>
</code></pre></div>
<p>In scientific notation, the <code>e</code> separates the base number from the exponent in the formula <code>base * 10^exponent</code>, and is conventionally written with a singular digit followed by the decimal point then followed by the remaining digits.</p>
<p>Both decimal and scientific notation allow for negative numbers, while scientific notation also allows for negative exponents.</p>
<div class="language-rs highlight"><pre><span></span><code><span class="kd">let</span><span class="w"> </span><span class="n">decimal</span><span class="w">    </span><span class="o">=</span><span class="w"> </span><span class="o">-</span><span class="mf">0.02</span><span class="p">;</span>
<span class="kd">let</span><span class="w"> </span><span class="n">scientific</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">-</span><span class="mf">2e-2</span><span class="p">;</span>
</code></pre></div>
<h3 id="booleans">Booleans</h3>
<p>Booleans are simply the bare keywords <code>true</code> and <code>false</code>. Other types do not automatically coerce into booleans, so there's no "truthy" <code>0</code> is <code>false</code>, <code>&gt;=1</code> is <code>true</code> kind of behavior in the language. (At least, by default. More on that later.)</p>
<h3 id="strings">Strings</h3>
<p>Strings in Alan can be written with either single-quotes (<code>'</code>) or double-quotes (<code>"</code>), escaping is done with backslash (<code>\</code>) so you can still write a single-quote in a single-quoted string with (<code>\'</code>) and vice-versa for double-quotes (<code>\"</code>). Therefore to write a backslash you need two of them (<code>\\</code>).</p>
<p>This should feel familiar for many developers out there, but what may be less familiar is that all strings are multi-line, so:</p>
<div class="language-rs highlight"><pre><span></span><code><span class="s">&quot;Hello,</span>
<span class="s">World!&quot;</span>
</code></pre></div>
<p>is valid. You can still write <code>\n</code> instead of a literal newline if that makes the string look nicer to you, but it isn't necessary.</p>
<h3 id="void">Void</h3>
<p>The <code>void</code> type represents nothing (but it likes to stare). It's not useful on its own, but can be made useful in conjunction with sum types (more on that later). It's also an alias for <code>()</code>, an empty tuple (more on tuples later).</p>
<p>Suffice it to say, you're not likely to work with the <code>void</code> type <em>directly</em>, but it's very useful in keeping bugs out of your code.</p>
<h2 id="generic-types">Generic Types</h2>
<p>Generic types are types that take other types as arguments to produce a new type.</p>
<p>As we saw in a previous example, there's a type called <code>Mut{T}</code> that takes one argument, <code>T</code>, which produces a new type indicating that we want changes to this type to be reflected in the original variable that was passed in.</p>
<p>There are many built-in generic types that have particular meanings, from which you can assemble the type you need to store your data, and the most common of these are covered below.</p>
<p>But before we get to those, we need to introduce one more concept. If you needed to write the generic type invocation every time you need that type it would be very cumbersome to manage, which is where type aliases come in.</p>
<h2 id="type-aliases">Type Aliases</h2>
<p>Types are defined similarly to single-statement functions, but with <code>type</code> instead of <code>fn</code>.</p>
<div class="language-rs highlight"><pre><span></span><code><span class="k">type</span><span class="w"> </span><span class="nc">Foo</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kt">i64</span><span class="p">;</span>
</code></pre></div>
<p>This is the simplest type definition in Alan, a type alias. It provides <strong>zero</strong> type safety guards over using the original type that is aliased. The compiler strips all aliasing when checking whether or not an input value can be passed to the function in a function call, so only use them if it is more convenient in your code or clearer to read.</p>
<p>Similarly, you can define your own generic type like this:</p>
<div class="language-rs highlight"><pre><span></span><code><span class="k">type</span><span class="w"> </span><span class="nc">Bar</span><span class="p">{</span><span class="n">T</span><span class="p">}</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">T</span><span class="p">;</span>
</code></pre></div>
<p>which is similarly reduced back to whatever type <code>T</code> you passed into the <code>Bar</code> generic type, adding nothing on its own to the type safety of your code.</p>
<p>They do become more convenient when defining your own types, though.</p>
<h2 id="product-types-tuples-and-structs">Product Types (Tuples and Structs)</h2>
<p>Product Types let you group multiple values together and pass them around together in your code.</p>
<h3 id="tuples">Tuples</h3>
<p>The simplest is a tuple.</p>
<div class="language-rs highlight"><pre><span></span><code><span class="k">type</span><span class="w"> </span><span class="nc">myTuple</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kt">i64</span><span class="p">,</span><span class="w"> </span><span class="n">string</span><span class="p">;</span>
</code></pre></div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>All type statements in Alan are resolved into a functional style. <code>type myTuple = i64, string;</code> can also be written as <code>type myTuple = Tuple{i64, string};</code> The <code>,</code> symbol, except within the generic argument parameterization, is a <strong>type operator</strong> for the <code>Tuple{A, B}</code> type function.</p>
<p>You can define your own type functions (AKA generic types) and type operators to extend type system, but be careful about legibility of the resulting code.</p>
</div>
<p>When you define types in Alan, constructor and accessor functions are created automatically for you to create types and retrieve values from them. <code>myTuple</code> automatically defines a constructor function named <code>myTuple</code>, and accessor functions <code>0</code> and <code>1</code> to access the individual elements of the tuple.</p>
<p>You can use the <code>myTuple</code> type like this:</p>
<div class="language-rs highlight"><pre><span></span><code><span class="k">type</span><span class="w"> </span><span class="nc">myTuple</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kt">i64</span><span class="p">,</span><span class="w"> </span><span class="n">string</span><span class="p">;</span>

<span class="n">export</span><span class="w"> </span><span class="k">fn</span><span class="w"> </span><span class="nf">main</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="kd">let</span><span class="w"> </span><span class="n">testTuple</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">myTuple</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;test&quot;</span><span class="p">);</span>
<span class="w">  </span><span class="n">testTuple</span><span class="p">.</span><span class="mf">0.</span><span class="n">print</span><span class="p">;</span><span class="w"> </span><span class="c1">// Prints 1</span>
<span class="w">  </span><span class="n">testTuple</span><span class="p">.</span><span class="mf">1.</span><span class="n">print</span><span class="p">;</span><span class="w"> </span><span class="c1">// Prints test</span>
<span class="p">}</span>
</code></pre></div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The grammar of Alan disallows defining a function that starts with a number to avoid ambiguity with numeric constants, which makes tuple accessor functions special. That makes them the only functions that can <em>only</em> be called with accessor syntax, as calling them as regular functions is similarly ambiguous.</p>
</div>
<p>This also demonstrates why type aliases are simply <em>aliases</em> and not explicitly used for type checking, as tuples can be anonymously constructed:</p>
<div class="language-rs highlight"><pre><span></span><code><span class="n">export</span><span class="w"> </span><span class="k">fn</span><span class="w"> </span><span class="nf">main</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="kd">let</span><span class="w"> </span><span class="n">testTuple</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;test&quot;</span><span class="p">);</span><span class="w"> </span><span class="c1">// Constructs an identical type as `myTuple`</span>
<span class="w">  </span><span class="n">testTuple</span><span class="p">.</span><span class="mf">0.</span><span class="n">print</span><span class="p">;</span><span class="w"> </span><span class="c1">// Prints 1</span>
<span class="w">  </span><span class="n">testTuple</span><span class="p">.</span><span class="mf">1.</span><span class="n">print</span><span class="p">;</span><span class="w"> </span><span class="c1">// Prints test</span>
<span class="p">}</span>
</code></pre></div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This syntax is not <em>yet</em> implemented, but intended to be implemented before Alan v0.2.0 releases. TODO: Delete this note!</p>
</div>
<h3 id="structs">Structs</h3>
<p>Structs are the same as tuples, except they have names for the different sub-types that you can use to access them. A simple struct is defined as:</p>
<div class="language-rs highlight"><pre><span></span><code><span class="k">type</span><span class="w"> </span><span class="nc">myStruct</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">foo</span><span class="p">:</span><span class="w"> </span><span class="kt">i64</span><span class="p">,</span><span class="w"> </span><span class="n">bar</span><span class="p">:</span><span class="w"> </span><span class="nc">string</span><span class="p">;</span>
</code></pre></div>
<p>Statements (both type statements and function statements) are allowed to be multi-line, so this can also be written as:</p>
<div class="language-rs highlight"><pre><span></span><code><span class="k">type</span><span class="w"> </span><span class="nc">myStruct</span><span class="w"> </span><span class="o">=</span>
<span class="w">  </span><span class="n">foo</span><span class="p">:</span><span class="w"> </span><span class="kt">i64</span><span class="p">,</span>
<span class="w">  </span><span class="n">bar</span><span class="p">:</span><span class="w"> </span><span class="nc">string</span><span class="p">;</span>
</code></pre></div>
<p>You can then use the <code>myStruct</code> type like this:</p>
<div class="language-rs highlight"><pre><span></span><code><span class="n">export</span><span class="w"> </span><span class="k">fn</span><span class="w"> </span><span class="nf">main</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="kd">let</span><span class="w"> </span><span class="n">testStruct</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">myStruct</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;test&quot;</span><span class="p">);</span>
<span class="w">  </span><span class="n">testStruct</span><span class="p">.</span><span class="n">foo</span><span class="p">.</span><span class="n">print</span><span class="p">;</span><span class="w"> </span><span class="c1">// Prints 1</span>
<span class="w">  </span><span class="n">testStruct</span><span class="p">.</span><span class="n">bar</span><span class="p">.</span><span class="n">print</span><span class="p">;</span><span class="w"> </span><span class="c1">// Prints test</span>
<span class="p">}</span>
</code></pre></div>
<p>As you can see, construction of the type is identical, while property accessing now goes by the field names for each struct type.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The <code>myStruct</code> function that the compiler generates names the first and second argument <code>foo</code> and <code>bar</code>, respectively, and it is intended in a future release of Alan to allow calling functions where arguments are passed in any order, labeled by the argument names. This would allow struct-like constructor functions to be called like:</p>
<div class="language-rs highlight"><pre><span></span><code><span class="kd">let</span><span class="w"> </span><span class="n">testStruct</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">myStruct</span><span class="p">(</span>
<span class="w">  </span><span class="n">foo</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span>
<span class="w">  </span><span class="n">bar</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;test&quot;</span><span class="p">,</span>
<span class="p">);</span>
</code></pre></div>
<p>which would be more familiar for users coming from other languages and more forgiving of argument order.</p>
</div>
<h3 id="structuples">Structuples?</h3>
<p>The field names in structs are just a syntactic sugar. You may also still access the values with the tuple-specific numeric property accessors.</p>
<div class="language-rs highlight"><pre><span></span><code><span class="k">type</span><span class="w"> </span><span class="nc">myStruct</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">foo</span><span class="p">:</span><span class="w"> </span><span class="kt">i64</span><span class="p">,</span><span class="w"> </span><span class="n">bar</span><span class="p">:</span><span class="w"> </span><span class="nc">string</span><span class="p">;</span>

<span class="n">export</span><span class="w"> </span><span class="k">fn</span><span class="w"> </span><span class="nf">main</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="kd">let</span><span class="w"> </span><span class="n">testStruct</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">myStruct</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;test&quot;</span><span class="p">);</span>
<span class="w">  </span><span class="n">testStruct</span><span class="p">.</span><span class="n">foo</span><span class="p">.</span><span class="n">print</span><span class="p">;</span><span class="w"> </span><span class="c1">// Prints 1</span>
<span class="w">  </span><span class="n">testStruct</span><span class="p">.</span><span class="mf">1.</span><span class="n">print</span><span class="p">;</span><span class="w"> </span><span class="c1">// Prints test</span>
<span class="p">}</span>
</code></pre></div>
<p>You can also mix-and-match labeling fields in your "struct."</p>
<div class="language-rs highlight"><pre><span></span><code><span class="k">type</span><span class="w"> </span><span class="nc">myStructTupleHybrid</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kt">i64</span><span class="p">,</span><span class="w"> </span><span class="n">bar</span><span class="p">:</span><span class="w"> </span><span class="nc">string</span><span class="p">;</span>

<span class="n">export</span><span class="w"> </span><span class="k">fn</span><span class="w"> </span><span class="nf">main</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="kd">let</span><span class="w"> </span><span class="n">testHybrid</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">myStructTupleHybrid</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;test&quot;</span><span class="p">);</span>
<span class="w">  </span><span class="n">test</span><span class="p">.</span><span class="mf">0.</span><span class="n">print</span><span class="p">;</span><span class="w"> </span><span class="c1">// Prints 1</span>
<span class="w">  </span><span class="n">test</span><span class="p">.</span><span class="n">bar</span><span class="p">.</span><span class="n">print</span><span class="p">:</span><span class="w"> </span><span class="c1">// Prints test</span>
<span class="p">}</span>
</code></pre></div>
<p>Under the hood, they all become tuples and the field names are just syntactic sugar for you.</p>
<div class="admonition question">
<p class="admonition-title">Why's it called a 'Product Type'?</p>
<p>If you consider a type as a Set of all possible values, then a <code>bool</code> is a Set of two possible values: <code>true</code>, and <code>false</code>.</p>
<p>It then follows that a tuple <code>bool, bool</code> has four possible values: <code>true, true</code>, <code>true, false</code>, <code>false, true</code>, and <code>false, false</code>. Then a tuple <code>bool, bool, bool</code> has eight possible values, etc. So tuples and structs are larger Sets whose sizes are the products (multiplications) of the sizes of all of the input Sets.</p>
</div>
<h3 id="anonymous-type-construction">Anonymous Type Construction</h3>
<p>Struct-style syntax shows how type aliases make it more convenient to use them. If we didn't have the aliasing mechanism, we would need to include the full definition of the struct on every construction. The following is valid (but awkward) syntax to do so:</p>
<div class="language-rs highlight"><pre><span></span><code><span class="n">export</span><span class="w"> </span><span class="k">fn</span><span class="w"> </span><span class="nf">main</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="kd">let</span><span class="w"> </span><span class="n">myAwkwardStruct</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="n">foo</span><span class="p">:</span><span class="w"> </span><span class="kt">i64</span><span class="p">,</span><span class="w"> </span><span class="n">bar</span><span class="p">:</span><span class="w"> </span><span class="nc">string</span><span class="p">}(</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;test&quot;</span><span class="p">);</span>
<span class="w">  </span><span class="n">myAwkwardStruct</span><span class="p">.</span><span class="n">foo</span><span class="p">.</span><span class="n">print</span><span class="p">;</span><span class="w"> </span><span class="c1">// Prints 1</span>
<span class="w">  </span><span class="n">myAwkwardStruct</span><span class="p">.</span><span class="n">bar</span><span class="p">.</span><span class="n">print</span><span class="p">;</span><span class="w"> </span><span class="c1">// Prints test</span>
<span class="p">}</span>
</code></pre></div>
<p>You can directly construct a type definition by wrapping it in curly braces (<code>{}</code>). This may be useful for a type you want to keep fully internal to a function definition and not ever share it at all with any other code in your codebase, but is more likely to be used to allow you to construct a generic type inside a generic function. (More on that, later.)</p>
<h3 id="type-properties">Type Properties</h3>
<p>Similarly to how you can access tuple fields by number and struct fields by name, you can do the same thing with the product type itself to access the sub-types from it.</p>
<p>So using the hybrid type as an example:</p>
<div class="language-rs highlight"><pre><span></span><code><span class="k">type</span><span class="w"> </span><span class="nc">myStructTupleHybrid</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kt">i64</span><span class="p">,</span><span class="w"> </span><span class="n">bar</span><span class="p">:</span><span class="w"> </span><span class="nc">string</span><span class="p">;</span>

<span class="k">type</span><span class="w"> </span><span class="nc">firstField</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">myStructTupleHybrid</span><span class="p">.</span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="c1">// Equivalent to `i64`</span>
<span class="k">type</span><span class="w"> </span><span class="nc">secondField</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">myStructTupleHybrid</span><span class="p">.</span><span class="n">bar</span><span class="p">;</span><span class="w"> </span><span class="c1">// Equivalent to `string`</span>
</code></pre></div>
<p>This may not seem useful, and in this example it is more verbose than the actual types involved, but it can be useful when working with generic types, covered later.</p>
<h2 id="sum-types-type-unions-maybe-fallible-and-tagged-unions">Sum Types (Type Unions, Maybe, Fallible, and Tagged Unions)</h2>
<p>Sum Types let you define values that are one of set of potential values.</p>
<h3 id="type-unions">Type Unions</h3>
<p>The simplest version is a type union.</p>
<div class="language-rs highlight"><pre><span></span><code><span class="k">type</span><span class="w"> </span><span class="nc">intOrString</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kt">i64</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">string</span><span class="p">;</span>
</code></pre></div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Equivalent to <code>type intOrString = Either{i64, string};</code></p>
</div>
<p>This type differs from the product types in that it creates multiple constructor functions. In this case two of them, one for each constituent type:</p>
<div class="language-rs highlight"><pre><span></span><code><span class="k">type</span><span class="w"> </span><span class="nc">intOrString</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kt">i64</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">string</span><span class="p">;</span>

<span class="n">export</span><span class="w"> </span><span class="k">fn</span><span class="w"> </span><span class="nf">main</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="kd">let</span><span class="w"> </span><span class="n">mightBeInt</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">intOrString</span><span class="p">(</span><span class="mi">5</span><span class="p">);</span>
<span class="w">  </span><span class="kd">let</span><span class="w"> </span><span class="n">mightBeStr</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">intOrString</span><span class="p">(</span><span class="o">&#39;</span><span class="na">test</span><span class="o">&#39;</span><span class="p">);</span>
<span class="p">}</span>
</code></pre></div>
<p>Both constructor functions get the same name as the type while the function dispatch logic figures out which one to call based on the input type provided. If you provide a value that doesn't match any of the constituent types, it will fail to compile.</p>
<div class="language-rs highlight"><pre><span></span><code><span class="k">type</span><span class="w"> </span><span class="nc">intOrString</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kt">i64</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">string</span><span class="p">;</span>

<span class="n">export</span><span class="w"> </span><span class="k">fn</span><span class="w"> </span><span class="nf">main</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="kd">let</span><span class="w"> </span><span class="n">mightBeBool</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">intOrString</span><span class="p">(</span><span class="kc">true</span><span class="p">);</span><span class="w"> </span><span class="c1">// Fails to compile</span>
<span class="p">}</span>
</code></pre></div>
<p>But if you want, you can make a custom constructor function for any type that converts into the type, by just defining that function.</p>
<div class="language-rs highlight"><pre><span></span><code><span class="k">type</span><span class="w"> </span><span class="nc">intOrString</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kt">i64</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">string</span><span class="p">;</span>

<span class="k">fn</span><span class="w"> </span><span class="nf">intOrString</span><span class="p">(</span><span class="n">b</span><span class="p">:</span><span class="w"> </span><span class="kt">bool</span><span class="p">)</span><span class="w"> </span><span class="p">-&gt;</span><span class="w"> </span><span class="nc">intOrString</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">b</span><span class="p">.</span><span class="n">string</span><span class="p">.</span><span class="n">intOrString</span><span class="p">;</span>
<span class="c1">// For most functions, you don&#39;t need to specify the return type. This also works:</span>
<span class="c1">// fn intOrString(b: bool) = b.string.intOrString;</span>

<span class="n">export</span><span class="w"> </span><span class="k">fn</span><span class="w"> </span><span class="nf">main</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="kd">let</span><span class="w"> </span><span class="n">mightBeBool</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">intOrString</span><span class="p">(</span><span class="kc">true</span><span class="p">);</span><span class="w"> </span><span class="c1">// Now works</span>
<span class="p">}</span>
</code></pre></div>
<p>It also creates two accessor functions, one for each constituent type:</p>
<div class="language-rs highlight"><pre><span></span><code><span class="k">type</span><span class="w"> </span><span class="nc">intOrString</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kt">i64</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">string</span><span class="p">;</span>

<span class="n">export</span><span class="w"> </span><span class="k">fn</span><span class="w"> </span><span class="nf">main</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="kd">let</span><span class="w"> </span><span class="n">mightBeInt</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">intOrString</span><span class="p">(</span><span class="mi">5</span><span class="p">);</span>
<span class="w">  </span><span class="n">mightBeInt</span><span class="p">.</span><span class="kt">i64</span><span class="p">.</span><span class="n">exists</span><span class="p">.</span><span class="n">print</span><span class="p">;</span><span class="w"> </span><span class="c1">// Prints true</span>
<span class="w">  </span><span class="n">mightBeInt</span><span class="p">.</span><span class="n">string</span><span class="p">.</span><span class="n">exists</span><span class="p">.</span><span class="n">print</span><span class="p">;</span><span class="w"> </span><span class="c1">// Prints false</span>

<span class="w">  </span><span class="kd">let</span><span class="w"> </span><span class="n">mightBeStr</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">intOrString</span><span class="p">(</span><span class="o">&#39;</span><span class="na">test</span><span class="o">&#39;</span><span class="p">);</span>
<span class="w">  </span><span class="n">mightBeStr</span><span class="p">.</span><span class="kt">i64</span><span class="p">.</span><span class="n">exists</span><span class="p">.</span><span class="n">print</span><span class="p">;</span><span class="w"> </span><span class="c1">// Prints false</span>
<span class="w">  </span><span class="n">mightBeStr</span><span class="p">.</span><span class="n">string</span><span class="p">.</span><span class="n">exists</span><span class="p">.</span><span class="n">print</span><span class="p">;</span><span class="w"> </span><span class="c1">// Prints true</span>
<span class="p">}</span>
</code></pre></div>
<p>The accessor functions get the names of the types, but they don't return that type <em>directly</em>. The actual stored value may or may not be the type you're requesting, so what it returns instead is a <code>Maybe{T}</code> type.</p>
<h3 id="the-maybe-type">The Maybe Type</h3>
<p>You can create your own <code>Maybe</code> type easily by just adding a <code>?</code> to the end of the type.</p>
<div class="language-rs highlight"><pre><span></span><code><span class="k">type</span><span class="w"> </span><span class="nc">maybeInt</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kt">i64</span><span class="o">?</span><span class="p">;</span>
</code></pre></div>
<p>It's short enough that <em>maybe</em> you'll choose to just use it anonymously when you need it.</p>
<div class="language-rs highlight"><pre><span></span><code><span class="n">export</span><span class="w"> </span><span class="k">fn</span><span class="w"> </span><span class="nf">main</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="kd">let</span><span class="w"> </span><span class="n">maybeVal</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="kt">i64</span><span class="o">?</span><span class="p">}(</span><span class="mi">5</span><span class="p">);</span>
<span class="w">  </span><span class="o">..</span><span class="p">.</span>
</code></pre></div>
<p>This type is actually just</p>
<div class="language-rs highlight"><pre><span></span><code><span class="k">type</span><span class="w"> </span><span class="nc">Maybe</span><span class="p">{</span><span class="n">T</span><span class="p">}</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Either</span><span class="p">{</span><span class="n">T</span><span class="p">,</span><span class="w"> </span><span class="p">()};</span>
</code></pre></div>
<p>making it another type union, but it has a few special functions for it that make it possible to actually acquire the inner value and not iterate through an infinite set of property accessors that return new <code>Maybe{T}</code> values. These are <code>exists</code>, <code>getOr</code>, and <code>getOrExit</code>.</p>
<ul>
<li><code>exists</code> returns a boolean telling you whether or not the <code>Maybe</code> has an actual value, and is the one used in the examples above.</li>
<li><code>getOrExit</code> returns the value within the <code>Maybe</code> <em>or</em> it immediately shuts down the program. Only use this if you're absolutely certain of the consequences.</li>
<li><code>getOr</code> is a function that takes two arguments, the <code>Maybe</code> and a default value if there's no value inside. This is the safer option to take, but only if your code can actually deal with a default value correctly.</li>
</ul>
<p>Replacing the <code>exists</code> in the prior example with <code>getOr</code> calls gives us:</p>
<div class="language-rs highlight"><pre><span></span><code><span class="k">type</span><span class="w"> </span><span class="nc">intOrString</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kt">i64</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">string</span><span class="p">;</span>

<span class="n">export</span><span class="w"> </span><span class="k">fn</span><span class="w"> </span><span class="nf">main</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="kd">let</span><span class="w"> </span><span class="n">mightBeInt</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">intOrString</span><span class="p">(</span><span class="mi">5</span><span class="p">);</span>
<span class="w">  </span><span class="n">mightBeInt</span><span class="p">.</span><span class="kt">i64</span><span class="p">.</span><span class="n">getOr</span><span class="p">(</span><span class="mi">3</span><span class="p">).</span><span class="n">print</span><span class="p">;</span><span class="w"> </span><span class="c1">// Prints 5</span>
<span class="w">  </span><span class="n">mightBeInt</span><span class="p">.</span><span class="n">string</span><span class="p">.</span><span class="n">getOr</span><span class="p">(</span><span class="o">&#39;</span><span class="na">value</span><span class="o">&#39;</span><span class="p">).</span><span class="n">print</span><span class="p">;</span><span class="w"> </span><span class="c1">// Prints value</span>

<span class="w">  </span><span class="kd">let</span><span class="w"> </span><span class="n">mightBeStr</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">intOrString</span><span class="p">(</span><span class="o">&#39;</span><span class="na">test</span><span class="o">&#39;</span><span class="p">);</span>
<span class="w">  </span><span class="n">mightBeStr</span><span class="p">.</span><span class="kt">i64</span><span class="p">.</span><span class="n">getOr</span><span class="p">(</span><span class="mi">3</span><span class="p">).</span><span class="n">print</span><span class="p">;</span><span class="w"> </span><span class="c1">// Prints 3</span>
<span class="w">  </span><span class="n">mightBeStr</span><span class="p">.</span><span class="n">string</span><span class="p">.</span><span class="n">getOr</span><span class="p">(</span><span class="o">&#39;</span><span class="na">value</span><span class="o">&#39;</span><span class="p">).</span><span class="n">print</span><span class="p">;</span><span class="w"> </span><span class="c1">// Prints test</span>
<span class="p">}</span>
</code></pre></div>
<h3 id="the-fallible-type">The Fallible Type</h3>
<p>There is a type that is closely related to the <code>Maybe</code> type, but is <em>slightly</em> different. That's the <code>Fallible{T}</code> type.</p>
<p>It's defined as:</p>
<div class="language-rs highlight"><pre><span></span><code><span class="k">type</span><span class="w"> </span><span class="nc">Fallible</span><span class="p">{</span><span class="n">T</span><span class="p">}</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Either</span><span class="p">{</span><span class="n">T</span><span class="p">,</span><span class="w"> </span><span class="n">Error</span><span class="p">};</span>
</code></pre></div>
<p>and has the same three functions, <code>exists</code>, <code>getOr</code>, and <code>getOrExit</code>, but also the <code>Error</code> accessor function. It's useful when you have an operation that should <em>normally</em> do the right thing, but <em>could</em> fail, and that you may want to get the details of why it failed.</p>
<p>You can construct a fallible type with a postfix <code>!</code> on the base type name.</p>
<div class="language-rs highlight"><pre><span></span><code><span class="n">export</span><span class="w"> </span><span class="k">fn</span><span class="w"> </span><span class="nf">main</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="kd">let</span><span class="w"> </span><span class="n">usuallyInt</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="kt">i64</span><span class="o">!</span><span class="p">}(</span><span class="mi">5</span><span class="p">);</span>
<span class="w">  </span><span class="o">..</span><span class="p">.</span>
</code></pre></div>
<p>Some of the built-in functions return <code>Fallible{T}</code> values, such as the integer construction functions when accepting a <code>string</code> as the input type. <code>i32("blargh")</code> should not return a valid integer.</p>
<h3 id="tagged-unions">Tagged Unions</h3>
<p>As Structs are to Tuples, so Tagged Unions are to Type Unions. Field names on sum types are also allowed, and they affect the constructor and accessor behavior. They also let us distinguish between <code>i64</code> and... <code>i64</code>.</p>
<div class="language-rs highlight"><pre><span></span><code><span class="k">type</span><span class="w"> </span><span class="nc">intInput</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">computed</span><span class="p">:</span><span class="w"> </span><span class="kt">i64</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">parsed</span><span class="p">:</span><span class="w"> </span><span class="kt">i64</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">gigo</span><span class="p">:</span><span class="w"> </span><span class="nc">string</span><span class="p">;</span>
</code></pre></div>
<p>Here we have a type representing an integer input, perhaps from an old-school web form. We distinguish between values that were computed server-side from values parsed from the client side and... other values that weren't parseable.</p>
<p>We can access the inner types by the field names, <code>computed</code>, <code>parsed</code>, and <code>gigo</code>, and they'll return <code>Maybe{i64}</code> and <code>Maybe{string}</code>, depending on which one is called.</p>
<p>But we can't have the constructor function just be <code>fn intInput(i64) -&gt; intInput</code> and <code>fn intInput(string) -&gt; intInput</code>. Which <code>i64</code> would we be assigning to?</p>
<p>In this situation, we need to re-apply the field name within the constructor function call, eg:</p>
<div class="language-rs highlight"><pre><span></span><code><span class="kd">let</span><span class="w"> </span><span class="n">value</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">intInput</span><span class="p">({</span><span class="n">computed</span><span class="p">:</span><span class="w"> </span><span class="kt">i64</span><span class="p">}(</span><span class="mi">5</span><span class="p">));</span>
</code></pre></div>
<p>This is a bit awkward looking, but works. Type aliases can help here, though.</p>
<div class="language-rs highlight"><pre><span></span><code><span class="k">type</span><span class="w"> </span><span class="nc">computed</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">computed</span><span class="p">:</span><span class="w"> </span><span class="kt">i64</span><span class="p">;</span>
<span class="k">type</span><span class="w"> </span><span class="nc">parsed</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">parsed</span><span class="p">:</span><span class="w"> </span><span class="kt">i64</span><span class="p">;</span>
<span class="k">type</span><span class="w"> </span><span class="nc">gigo</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">gigo</span><span class="p">:</span><span class="w"> </span><span class="nc">string</span><span class="p">;</span>
<span class="k">type</span><span class="w"> </span><span class="nc">intInput</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">computed</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">parsed</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">gigo</span><span class="p">;</span>

<span class="n">export</span><span class="w"> </span><span class="k">fn</span><span class="w"> </span><span class="nf">main</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="kd">let</span><span class="w"> </span><span class="n">value</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">intInput</span><span class="p">(</span><span class="n">computed</span><span class="p">(</span><span class="mi">5</span><span class="p">));</span>
<span class="p">}</span>
</code></pre></div>
<p>Giving the labeled types their own alias then lets us use it in the type union and use each piece as a constructor function makes this more ergonomic to use at the cost of more type definitions.</p>
<p>This also demonstrates how tagged unions in Alan are equivalent to single-value product types.</p>
<h3 id="type-properties-again">Type Properties (Again)</h3>
<p>As with product types, sum types can also have their sub-types accessed via properties, both numeric, and when possible, by field name.</p>
<p>Returning to the first tagged union example, we can see how this works:</p>
<div class="language-rs highlight"><pre><span></span><code><span class="k">type</span><span class="w"> </span><span class="nc">intInput</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">computed</span><span class="p">:</span><span class="w"> </span><span class="kt">i64</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">parsed</span><span class="p">:</span><span class="w"> </span><span class="kt">i64</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">gigo</span><span class="p">:</span><span class="w"> </span><span class="nc">string</span><span class="p">;</span>

<span class="k">type</span><span class="w"> </span><span class="nc">firstField</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">intInput</span><span class="p">.</span><span class="n">computed</span><span class="p">;</span><span class="w"> </span><span class="c1">// Resolves to `i64`</span>
<span class="k">type</span><span class="w"> </span><span class="nc">secondField</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">intInput</span><span class="p">.</span><span class="mi">1</span><span class="p">;</span><span class="w"> </span><span class="c1">// Resolves to `parsed: i64`</span>
<span class="k">type</span><span class="w"> </span><span class="nc">secondFieldName</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">intInput</span><span class="p">.</span><span class="mf">1.0</span><span class="w"> </span><span class="c1">// Resolves to `&quot;parsed&quot;`</span>
<span class="k">type</span><span class="w"> </span><span class="nc">secondFieldType</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">intInput</span><span class="p">.</span><span class="mf">1.1</span><span class="w"> </span><span class="c1">// Resolves to `i64`</span>
</code></pre></div>
<p>There is a slight difference when accessing by field name versus a numeric index. When you access by field name, it grabs the type within the field definition, but when you access by numeric index it returns it with the field still attached if there is such a thing. You can then separately access the field's name and underlying type with <code>.0</code> and <code>.1</code> on that, respectively.</p>
<p>This can be useful when introspecting a generic type provided to you, perhaps for debugging purposes.</p>
<div class="admonition question">
<p class="admonition-title">Why's it called a 'Sum Type'?</p>
<p>Similar to the reasoning behind Product Types, a Sum type is composed of multiple Sets, but the allowed value can only be from one of the Sets at a time. So a <code>bool</code> is a set of two possible values: <code>true</code>, and <code>false</code>, while a <code>u8</code> is the set of all natural numbers from <code>0</code> to <code>255</code> (256 in total), so a type <code>bool | u8</code> would be 2 + 256 = 258 distinct values.</p>
</div>
<h2 id="buffer-types">Buffer Types</h2>
<p>A Buffer Type is a special version of a Tuple, where every element is exactly the same type. It let's you save some typing.</p>
<div class="language-rs highlight"><pre><span></span><code><span class="k">type</span><span class="w"> </span><span class="nc">fiveInts</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kt">i64</span><span class="p">[</span><span class="mi">5</span><span class="p">];</span><span class="w"> </span><span class="c1">// Equivalent to Buffer{i64, 5}</span>
</code></pre></div>
<p>This produces two different types of constructor functions as well as the integer-ordered property accessors. One constructor function requires an argument value for each location, and the other takes a single value and assigns it to every location.</p>
<div class="language-rs highlight"><pre><span></span><code><span class="kd">let</span><span class="w"> </span><span class="n">individual</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="kt">i64</span><span class="p">[</span><span class="mi">5</span><span class="p">]}(</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span><span class="w"> </span><span class="mi">5</span><span class="p">);</span>
<span class="kd">let</span><span class="w"> </span><span class="n">collective</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="kt">i64</span><span class="p">[</span><span class="mi">5</span><span class="p">]}(</span><span class="mi">6</span><span class="p">);</span>

<span class="n">individual</span><span class="p">.</span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="c1">// 1</span>
<span class="n">individual</span><span class="p">.</span><span class="mi">1</span><span class="p">;</span><span class="w"> </span><span class="c1">// 2</span>
<span class="n">collective</span><span class="p">.</span><span class="mi">2</span><span class="p">;</span><span class="w"> </span><span class="c1">// 6</span>
<span class="o">..</span><span class="p">.</span>
</code></pre></div>
<p>Because all of the types are the same, you may also use the array accessor syntax to get the value, which allows you to choose the value at runtime. Because the computed value may be out-of-bounds, this syntax returns a <code>Maybe</code>-wrapped output instead of the bare value.</p>
<div class="language-rs highlight"><pre><span></span><code><span class="kd">let</span><span class="w"> </span><span class="n">individual</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="kt">i64</span><span class="p">[</span><span class="mi">5</span><span class="p">]}(</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span><span class="w"> </span><span class="mi">5</span><span class="p">);</span>
<span class="n">individual</span><span class="p">[</span><span class="mi">0</span><span class="p">];</span><span class="w"> </span><span class="c1">// Maybe{i64}(1)</span>
<span class="n">individual</span><span class="p">[</span><span class="mi">1</span><span class="p">];</span><span class="w"> </span><span class="c1">// Maybe{i64}(2)</span>
<span class="n">individual</span><span class="p">[</span><span class="mi">6</span><span class="p">];</span><span class="w"> </span><span class="c1">// Maybe{i64}(void)</span>
<span class="n">individual</span><span class="p">[</span><span class="n">someOtherIntVariable</span><span class="p">];</span><span class="w"> </span><span class="c1">// Maybe{i64}</span>
</code></pre></div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The Array Accessor syntax is syntactic sugar on a call to the function <code>get</code>, where the first argument is the variable the accessor syntax is applied to, and the contents of the accessor syntax are the remaining arguments.</p>
<p>This means <code>buf[idx]</code> is equivalent to <code>buf.get(idx)</code> or <code>get(buf, idx)</code>, and <code>matrix[col, row]</code> is equivalent to <code>matrix.get(col, row)</code>.</p>
</div>
<p>To access the value you'll need to call <code>getOr</code> or <code>getOrExit</code> like with any <code>Maybe</code> type.</p>
<p>You can also use the array assignment syntax to update a value.</p>
<div class="language-rs highlight"><pre><span></span><code><span class="kd">let</span><span class="w"> </span><span class="n">count</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="kt">i64</span><span class="p">[</span><span class="mi">3</span><span class="p">]}(</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="mi">5</span><span class="p">);</span>
<span class="n">count</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">3</span><span class="p">;</span>
<span class="n">count</span><span class="p">.</span><span class="n">print</span><span class="p">;</span><span class="w"> </span><span class="c1">// Prints [1, 2, 3]</span>
</code></pre></div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This is syntactic sugar for the <code>store</code> function. If you want to confirm that the assignment actually works, you can call that function and check it's return value.</p>
<div class="language-rs highlight"><pre><span></span><code><span class="kd">let</span><span class="w"> </span><span class="n">count</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="kt">i64</span><span class="p">[</span><span class="mi">3</span><span class="p">]}(</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p">);</span>
<span class="n">count</span><span class="p">.</span><span class="n">store</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span><span class="w"> </span><span class="mi">5</span><span class="p">).</span><span class="n">Error</span><span class="p">.</span><span class="n">exists</span><span class="p">.</span><span class="n">print</span><span class="p">;</span><span class="w"> </span><span class="c1">// Prints true, it failed to store a value out-of-bounds</span>
</code></pre></div>
</div>
<h2 id="array-types">Array Types</h2>
<p>An Array type is like a Buffer type in that all elements of an array are the same type, but the size of the array is not known at compile time and can even change during run time. Arrays can be constructed with any number of arguments, as the constructor function is variadic, but values can only be accessed with the array accessor syntax.</p>
<p>Arrays may also be constructed with the array constructor syntax, which elides the need to specify the array type (it is inferred from its contents).</p>
<div class="language-rs highlight"><pre><span></span><code><span class="k">type</span><span class="w"> </span><span class="nc">manyInts</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kt">i64</span><span class="p">[];</span><span class="w"> </span><span class="c1">// Equivalent to Array{i64}</span>

<span class="n">export</span><span class="w"> </span><span class="k">fn</span><span class="w"> </span><span class="nf">main</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="kd">let</span><span class="w"> </span><span class="n">vals</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">manyInts</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="mi">5</span><span class="p">);</span>
<span class="w">  </span><span class="kd">let</span><span class="w"> </span><span class="n">betterVals</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p">];</span>
<span class="w">  </span><span class="n">betterVals</span><span class="p">[</span><span class="mi">0</span><span class="p">];</span><span class="w"> </span><span class="c1">// Maybe{i64}(1)</span>
<span class="w">  </span><span class="n">betterVals</span><span class="p">[</span><span class="mi">3</span><span class="p">];</span><span class="w"> </span><span class="c1">// Maybe{i64}(void)</span>
<span class="p">}</span>
</code></pre></div>
<p>Arrays can be altered with the array assignment syntax just like buffers:</p>
<div class="language-rs highlight"><pre><span></span><code><span class="kd">let</span><span class="w"> </span><span class="n">count</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="mi">5</span><span class="p">];</span>
<span class="n">count</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">3</span><span class="p">;</span>
<span class="n">count</span><span class="p">.</span><span class="n">print</span><span class="p">;</span><span class="w"> </span><span class="c1">// Prints [1, 2, 3]</span>
</code></pre></div>
<p>You similarly can't <code>store</code> values out-of-bounds for an array. If you wish to grow the array, you should <code>push</code> the new value onto the array rather than attempting to write to a non-existent index.</p>
<div class="language-rs highlight"><pre><span></span><code><span class="kd">let</span><span class="w"> </span><span class="n">count</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p">];</span>
<span class="n">count</span><span class="p">.</span><span class="n">store</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span><span class="w"> </span><span class="mi">5</span><span class="p">).</span><span class="n">Error</span><span class="p">.</span><span class="n">exists</span><span class="p">.</span><span class="n">print</span><span class="p">;</span><span class="w"> </span><span class="c1">// Prints true, 5 is out-of-bounds for the array and the value was not stored.</span>
</code></pre></div>
<h2 id="set-types">Set Types</h2>
<p>A Set type is like an Array type, but each element in a set type is unique. Unlike arrays there is no specific ordering so you can't access values directly, but you can convert a Set into an Array if you need to iterate through all of its values. You can also convert an Array into a Set during Set construction.</p>
<div class="language-rs highlight"><pre><span></span><code><span class="n">export</span><span class="w"> </span><span class="k">fn</span><span class="w"> </span><span class="nf">main</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="kd">let</span><span class="w"> </span><span class="n">uniqueFibonacci</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Set</span><span class="p">{</span><span class="kt">i64</span><span class="p">}([</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w"> </span><span class="mi">5</span><span class="p">,</span><span class="w"> </span><span class="mi">8</span><span class="p">]);</span>
<span class="w">  </span><span class="n">uniqueFibonacci</span><span class="p">.</span><span class="n">Array</span><span class="p">.</span><span class="n">print</span><span class="p">;</span><span class="w"> </span><span class="c1">// Prints [1, 2, 3, 5, 8] but maybe not in that order</span>
<span class="p">}</span>
</code></pre></div>
<p>Sets can have new values added to them with the <code>store</code> function.</p>
<div class="language-rs highlight"><pre><span></span><code><span class="n">uniqueFibonacci</span><span class="p">.</span><span class="n">store</span><span class="p">(</span><span class="mi">13</span><span class="p">);</span>
</code></pre></div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Because the two-argument <code>store</code> function is bound to <code>=</code>, you can <em>technically</em> add new values to a Set with just <code>setName = newValue</code>, but this is super confusing, so don't do that.</p>
</div>
<h2 id="dictionary-types">Dictionary Types</h2>
<p>A Dictionary Type lets you create a mapping of keys to values. You can use array accessor syntax to get a value by providing the key. You can also convert it into an Array of Tuples of key-value pairs to iterate over. Unlike Sets, Dictionaries maintain their insertion order when converted back into an Array.</p>
<p>The constructor function needs the key and value type defined, but if you construct it with an initial key-value pair, they can be inferred.</p>
<div class="language-rs highlight"><pre><span></span><code><span class="n">export</span><span class="w"> </span><span class="k">fn</span><span class="w"> </span><span class="nf">main</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="kd">let</span><span class="w"> </span><span class="n">myDict</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Dict</span><span class="p">(</span><span class="s">&quot;test&quot;</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">);</span><span class="w"> </span><span class="c1">// Equivalent to Dict{string, i64}(&quot;test&quot;, 1)</span>
<span class="w">  </span><span class="n">myDict</span><span class="p">[</span><span class="s">&quot;test&quot;</span><span class="p">];</span><span class="w"> </span><span class="c1">// Maybe{i64}(1)</span>
<span class="w">  </span><span class="n">myDict</span><span class="p">[</span><span class="s">&quot;huh?&quot;</span><span class="p">];</span><span class="w"> </span><span class="c1">// Maybe{i64}(void)</span>
<span class="w">  </span><span class="n">myDict</span><span class="p">.</span><span class="n">Array</span><span class="p">;</span><span class="w"> </span><span class="c1">// [(&quot;test&quot;, 1)]</span>
<span class="p">}</span>
</code></pre></div>
<p>New values can be inserted into dictionaries with the array assignment syntax.</p>
<div class="language-rs highlight"><pre><span></span><code><span class="kd">let</span><span class="w"> </span><span class="n">myDict</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Dict</span><span class="p">{</span><span class="n">string</span><span class="p">,</span><span class="w"> </span><span class="kt">i64</span><span class="p">}();</span>
<span class="n">myDict</span><span class="p">[</span><span class="s">&quot;test&quot;</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span><span class="p">;</span>
<span class="n">myDict</span><span class="p">.</span><span class="n">Array</span><span class="p">;</span><span class="w"> </span><span class="c1">// [(&quot;test&quot;, 1)]</span>
</code></pre></div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Calls to <code>store</code> <em>always</em> succeed for Dictionaries, so there is no need to check.</p>
</div>
<h2 id="the-gbuffer-and-gpgpu-types">The GBuffer and GPGPU Types</h2>
<p>In Alan, there's one more buffer-like type, the <code>GBuffer{T}</code> type. This type is constructed from either a <code>Buffer</code> or <code>Array</code>. The type sits in-between the two in that its length is not known at compile time, but it cannot be changed once constructed. This represents a block of memory on the GPU, which you can set at construction time (from a buffer or array).</p>
<p>This type cannot be accessed directly at all, it must be explicitly <code>read</code> back into an array before it can be accessed, but it can be included in a <code>GPGPU</code> execution plan and mutated by that GPGPU compute. The <code>GPGPU</code> type can be worked with directly, but most of the time is hidden behind functions that manipulate the <code>GBuffer</code> type.</p>
<div class="language-rs highlight"><pre><span></span><code><span class="n">export</span><span class="w"> </span><span class="k">fn</span><span class="w"> </span><span class="nf">main</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="n">GBuffer</span><span class="p">([</span><span class="mf">1.</span><span class="k">i32</span><span class="p">,</span><span class="w"> </span><span class="mf">2.</span><span class="k">i32</span><span class="p">,</span><span class="w"> </span><span class="mf">3.</span><span class="k">i32</span><span class="p">,</span><span class="w"> </span><span class="mf">4.</span><span class="k">i32</span><span class="p">])</span>
<span class="w">    </span><span class="p">.</span><span class="n">map</span><span class="p">(</span><span class="k">fn</span><span class="w"> </span><span class="p">(</span><span class="n">val</span><span class="p">:</span><span class="w"> </span><span class="nc">gi32</span><span class="p">)</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">val</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="mi">2</span><span class="p">)</span>
<span class="w">    </span><span class="p">.</span><span class="n">read</span>
<span class="w">    </span><span class="p">.</span><span class="n">print</span><span class="p">;</span><span class="w"> </span><span class="c1">// Prints [2, 4, 6, 8]</span>
<span class="p">}</span>
</code></pre></div>
<p>Here we also see both higher-order functions (passing functions to other functions) and the GPU primitive types, which are conceptually identical to the actual primitive types, but are not accessible in normal CPU compute (as they represent work on the GPU) and are much narrower in scope (only booleans and 32-bit integers and floats as primitive types).</p>
<h2 id="higher-order-functions-and-generic-functions">Higher-Order Functions and Generic Functions</h2>
<h3 id="higher-order-functions">Higher-Order Functions</h3>
<p>You can create functions that accept other functions as an argument and then call it in the course of its operation to create re-usable patterns of behavior that you can then use in other situations.</p>
<p>Just the type portion of the function definition needs to be provided.</p>
<div class="language-rs highlight"><pre><span></span><code><span class="c1">// &quot;Doubles&quot; the string by concatenating it to itself</span>
<span class="k">fn</span><span class="w"> </span><span class="nf">doublestring</span><span class="p">(</span><span class="n">s</span><span class="p">:</span><span class="w"> </span><span class="nc">string</span><span class="p">)</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">s</span><span class="p">.</span><span class="n">concat</span><span class="p">(</span><span class="n">s</span><span class="p">);</span>

<span class="c1">// Accepts a function that transforms a string and then returns a</span>
<span class="c1">// string that documents that change</span>
<span class="k">fn</span><span class="w"> </span><span class="nf">stringChanger</span><span class="p">(</span><span class="n">s</span><span class="p">:</span><span class="w"> </span><span class="nc">string</span><span class="p">,</span><span class="w"> </span><span class="n">changer</span><span class="p">:</span><span class="w"> </span><span class="p">(</span><span class="n">string</span><span class="p">)</span><span class="w"> </span><span class="p">-&gt;</span><span class="w"> </span><span class="nc">string</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="k">return</span><span class="w"> </span><span class="n">s</span><span class="p">.</span><span class="n">concat</span><span class="p">(</span><span class="s">&quot; becomes &quot;</span><span class="p">).</span><span class="n">concat</span><span class="p">(</span><span class="n">changer</span><span class="p">(</span><span class="n">s</span><span class="p">));</span>
<span class="p">}</span>

<span class="n">export</span><span class="w"> </span><span class="k">fn</span><span class="w"> </span><span class="nf">main</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="c1">// Calling `doublestring`</span>
<span class="w">  </span><span class="kd">let</span><span class="w"> </span><span class="n">danceName</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">doublestring</span><span class="p">(</span><span class="s">&quot;can&quot;</span><span class="p">);</span>
<span class="w">  </span><span class="c1">// Call `stringChanger` with a string and the `doublestring` function</span>
<span class="w">  </span><span class="n">stringChanger</span><span class="p">(</span><span class="s">&quot;can&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">doublestring</span><span class="p">).</span><span class="n">print</span><span class="p">;</span>
<span class="w">  </span><span class="c1">// Call `stringChanger` with a string and a closure function that</span>
<span class="w">  </span><span class="c1">// encloses the `danceName` variable defined above</span>
<span class="w">  </span><span class="n">stringChanger</span><span class="p">(</span>
<span class="w">    </span><span class="s">&quot;a person&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="k">fn</span><span class="w"> </span><span class="p">(</span><span class="n">s</span><span class="p">:</span><span class="w"> </span><span class="nc">string</span><span class="p">)</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">s</span>
<span class="w">      </span><span class="p">.</span><span class="n">concat</span><span class="p">(</span><span class="s">&quot; who can dance the &quot;</span><span class="p">)</span>
<span class="w">      </span><span class="p">.</span><span class="n">concat</span><span class="p">(</span><span class="n">danceName</span><span class="p">)</span>
<span class="w">      </span><span class="p">.</span><span class="n">concat</span><span class="p">(</span><span class="s">&quot; through practice&quot;</span><span class="p">)</span>
<span class="w">  </span><span class="p">).</span><span class="n">print</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div>
<p>We can now pass in the <code>foostring</code> function as well as an anonymous closure function that uses the <code>changed</code> variable itself to produce a new output. The full output of this example when compiled and run looks like:</p>
<div class="language-text highlight"><pre><span></span><code>$ alan compile changer.ln
Done! Took 0.67sec
$ ./changer
can becomes cancan
a person becomes a person who can dance the cancan through practice
</code></pre></div>
<p>The same <code>stringChanger</code> function produced different outputs based on the behavior of the function it was provided.</p>
<p>Note that the function definitions <em>usually</em> skipped the <code>-&gt;</code> symbol and return type, leaving it up to the compiler to infer the return type of the function involved. In this example this was done in every situation Alan can infer the return type, while the singular place it remains is where it's always required: when defining the kind of function a higher-order function takes as an input.</p>
<h3 id="function-type-digression">Function Type Digression</h3>
<p>The type for a function is defined with <code>I -&gt; O</code> where the input type <code>I</code> turns into the output type <code>O</code>. Input <em>type</em>? Shouldn't that be types, for each argument?</p>
<p>Well, for Alan, the traditional way you write a set of arguments and their types is <em>identical</em> to a struct-style tuple. A struct is a singular type, and constructing a tuple is <em>identical</em> to calling a function with a set of arguments matching the tuple args, because they are literally the same thing in Alan.</p>
<p>This also means that, while definitely not recommended, if you wanted to do <a href="https://go.dev/doc/tutorial/handle-errors">Go-style error handling</a> by returning a tuple of <code>(value, error)</code> and then manually check if the error actually exists, you could define a function like:</p>
<div class="language-rs highlight"><pre><span></span><code><span class="k">fn</span><span class="w"> </span><span class="nf">goStyleIntParse</span><span class="p">(</span><span class="n">s</span><span class="p">:</span><span class="w"> </span><span class="nc">string</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="kd">let</span><span class="w"> </span><span class="n">result</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">s</span><span class="p">.</span><span class="kt">i64</span><span class="p">;</span>
<span class="w">  </span><span class="k">return</span><span class="w"> </span><span class="p">{</span><span class="kt">i64</span><span class="p">,</span><span class="w"> </span><span class="n">Error</span><span class="o">?</span><span class="p">}(</span><span class="n">result</span><span class="p">.</span><span class="kt">i64</span><span class="p">.</span><span class="n">getOr</span><span class="p">(</span><span class="mi">0</span><span class="p">),</span><span class="w"> </span><span class="n">result</span><span class="p">.</span><span class="n">Error</span><span class="p">);</span>
<span class="p">}</span>
</code></pre></div>
<p>And now you need to manually check if the <code>Error</code> exists in the output tuple before you can safely use the <code>i64</code>. But if you ever have a <em>legitimate</em> reason to return multiple values from a single function, it's perfectly possible.</p>
<p>The reverse is also true, <em>anything</em> can be the input side of things, but how do you even access the values if you didn't give them field names? We can't <em>exactly</em> use the <code>0</code>, <code>1</code>, etc of tuple accessor syntax because they can't be properties of anything, so the compromise in this case is to prefix <code>arg</code> on these tuple names.</p>
<div class="language-rs highlight"><pre><span></span><code><span class="k">fn</span><span class="w"> </span><span class="nf">lazyFooString</span><span class="p">(</span><span class="n">string</span><span class="p">)</span><span class="w"> </span><span class="p">-&gt;</span><span class="w"> </span><span class="nc">string</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;foo&quot;</span><span class="p">.</span><span class="n">concat</span><span class="p">(</span><span class="n">arg0</span><span class="p">);</span>
<span class="c1">// fn lazyFooString(string) = &quot;foo&quot;.concat(arg0);</span>

<span class="n">export</span><span class="w"> </span><span class="k">fn</span><span class="w"> </span><span class="nf">main</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="s">&quot;bar&quot;</span><span class="p">.</span><span class="n">lazyFooString</span><span class="p">.</span><span class="n">print</span><span class="p">;</span><span class="w"> </span><span class="c1">// Prints foobar</span>
<span class="p">}</span>
</code></pre></div>
<p>You don't <em>technically</em> need the parens in the definition, either. You can just put in some whitespace after the name to make it unambiguous.</p>
<div class="language-rs highlight"><pre><span></span><code><span class="k">fn</span><span class="w"> </span><span class="nf">lazyFooString</span><span class="w"> </span><span class="n">string</span><span class="w"> </span><span class="p">-&gt;</span><span class="w"> </span><span class="nc">string</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;foo&quot;</span><span class="p">.</span><span class="n">concat</span><span class="p">(</span><span class="n">arg0</span><span class="p">);</span>
<span class="k">fn</span><span class="w"> </span><span class="nf">lazyFooString</span><span class="w"> </span><span class="n">string</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;foo&quot;</span><span class="p">.</span><span class="n">concat</span><span class="p">(</span><span class="n">arg0</span><span class="p">);</span>

<span class="n">export</span><span class="w"> </span><span class="k">fn</span><span class="w"> </span><span class="nf">main</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="s">&quot;bar&quot;</span><span class="p">.</span><span class="n">lazyFooString</span><span class="p">.</span><span class="n">print</span><span class="p">;</span><span class="w"> </span><span class="c1">// Prints foobar</span>
<span class="p">}</span>
</code></pre></div>
<p>It's just conventional to have parens because that's what the majority of popular programming languages do.</p>
<h3 id="generic-functions">Generic Functions</h3>
<p>Generic Functions are functions where the types of data they're operating on aren't known at the time the function is written. They are often most useful in conjunction with Higher-Order Functions, where the function passed to the generic function determines the output type involved. You specify names for the unknown types inside of <code>{}</code> just after the function name.</p>
<div class="language-rs highlight"><pre><span></span><code><span class="k">fn</span><span class="w"> </span><span class="nf">fma</span><span class="p">{</span><span class="n">T</span><span class="p">,</span><span class="w"> </span><span class="n">U</span><span class="p">}(</span><span class="n">arr</span><span class="p">:</span><span class="w"> </span><span class="nc">Array</span><span class="p">{</span><span class="n">T</span><span class="p">},</span><span class="w"> </span><span class="n">f</span><span class="p">:</span><span class="w"> </span><span class="nc">T</span><span class="w"> </span><span class="p">-&gt;</span><span class="w"> </span><span class="kt">bool</span><span class="p">,</span><span class="w"> </span><span class="n">m</span><span class="p">:</span><span class="w"> </span><span class="nc">T</span><span class="w"> </span><span class="p">-&gt;</span><span class="w"> </span><span class="nc">U</span><span class="p">,</span><span class="w"> </span><span class="n">r</span><span class="p">:</span><span class="w"> </span><span class="p">(</span><span class="n">U</span><span class="p">,</span><span class="w"> </span><span class="n">U</span><span class="p">)</span><span class="w"> </span><span class="p">-&gt;</span><span class="w"> </span><span class="nc">U</span><span class="p">)</span><span class="w"> </span><span class="p">-&gt;</span><span class="w"> </span><span class="nc">U</span><span class="o">?</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="k">return</span><span class="w"> </span><span class="n">arr</span><span class="p">.</span><span class="n">filter</span><span class="p">(</span><span class="n">f</span><span class="p">).</span><span class="n">map</span><span class="p">(</span><span class="n">m</span><span class="p">).</span><span class="n">reduce</span><span class="p">(</span><span class="n">r</span><span class="p">);</span>
<span class="p">}</span>
</code></pre></div>
<p>This function takes an array of any type <code>T</code>, first filters out irrelevant parts with a filter function <code>f</code> that takes <code>T</code> and returns a <code>bool</code> to determine if it stays or goes. Then it passes it to a map function <code>m</code> that takes type <code>T</code> and converts it into type <code>U</code>, and finally gives it to the reducer function <code>r</code> that takes two values of type <code>U</code> and returns a singular <code>U</code>. The output of this whole chain is a <code>Maybe</code> type, specifically <code>U?</code>, because the input array might be empty. The final return type is optional, but is less "obvious" with this code, so is good to include for better clarity for this function. It also acts as a safeguard -- the compiler will fail to compile your code if the annotated return type does not match the return type it infers, which can help prevent unexpected changes in behavior when refactoring your codebase.</p>
<p>By convention, the type variables in generic functions (and generic types) are written with singular uppercase letters to make them stand out from normal variables and types.</p>
<h3 id="default-value-digression">Default Value Digression</h3>
<p>We didn't use the generic types anywhere but in the type of the function, but suppose <code>U</code> has a default constructor function that can be called without any arguments. We could then get a default value to fall back on and eliminate the <code>Maybe</code> from the return type signature here.</p>
<div class="language-rs highlight"><pre><span></span><code><span class="k">fn</span><span class="w"> </span><span class="nf">fma</span><span class="p">{</span><span class="n">T</span><span class="p">,</span><span class="w"> </span><span class="n">U</span><span class="p">}(</span><span class="n">arr</span><span class="p">:</span><span class="w"> </span><span class="nc">Array</span><span class="p">{</span><span class="n">T</span><span class="p">},</span><span class="w"> </span><span class="n">f</span><span class="p">:</span><span class="w"> </span><span class="nc">T</span><span class="w"> </span><span class="p">-&gt;</span><span class="w"> </span><span class="kt">bool</span><span class="p">,</span><span class="w"> </span><span class="n">m</span><span class="p">:</span><span class="w"> </span><span class="nc">T</span><span class="w"> </span><span class="p">-&gt;</span><span class="w"> </span><span class="nc">U</span><span class="p">,</span><span class="w"> </span><span class="n">r</span><span class="p">:</span><span class="w"> </span><span class="p">(</span><span class="n">U</span><span class="p">,</span><span class="w"> </span><span class="n">U</span><span class="p">)</span><span class="w"> </span><span class="p">-&gt;</span><span class="w"> </span><span class="nc">U</span><span class="p">)</span><span class="w"> </span><span class="p">-&gt;</span><span class="w"> </span><span class="nc">U</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="k">return</span><span class="w"> </span><span class="n">arr</span><span class="p">.</span><span class="n">filter</span><span class="p">(</span><span class="n">f</span><span class="p">).</span><span class="n">map</span><span class="p">(</span><span class="n">m</span><span class="p">).</span><span class="n">reduce</span><span class="p">(</span><span class="n">r</span><span class="p">).</span><span class="n">getOr</span><span class="p">({</span><span class="n">U</span><span class="p">}());</span>
<span class="p">}</span>
</code></pre></div>
<p>We can get a reference to whatever the actual type ends up being by wrapping it in <code>{}</code> within the body, and then we immediately invoke it with the parens <code>()</code> afterwards.</p>
<p>Default values can often be dangerous in a production system because they can hide a mistake in the code where a value was not initialized correctly, so the vast majority of types in Alan do not support it (the <code>Maybe</code> type is the exception. <code>Maybe{i64}()</code> produces a <code>Maybe</code>-wrapped <code>void</code> value). But you can easily add that to the language, scoped to just the source file you're currently working in, by defining a zero-arg constructor function for any type. Eg:</p>
<div class="language-rs highlight"><pre><span></span><code><span class="k">fn</span><span class="w"> </span><span class="nf">i64</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
</code></pre></div>
<p>Now this type has a zero-arg constructor, so if we wanted to use <code>fma</code> to return, say, the total length of all captial words in a string, we could do something like:</p>
<div class="language-rs highlight"><pre><span></span><code><span class="k">fn</span><span class="w"> </span><span class="nf">capcount</span><span class="p">(</span><span class="n">s</span><span class="p">:</span><span class="w"> </span><span class="nc">string</span><span class="p">)</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">s</span><span class="p">.</span><span class="n">split</span><span class="p">(</span><span class="s">&quot; &quot;</span><span class="p">).</span><span class="n">fma</span><span class="p">(</span><span class="k">fn</span><span class="w"> </span><span class="p">(</span><span class="n">s</span><span class="p">:</span><span class="w"> </span><span class="nc">string</span><span class="p">)</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">s</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="s">&quot;a&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">len</span><span class="p">,</span><span class="w"> </span><span class="n">add</span><span class="p">);</span>

<span class="n">export</span><span class="w"> </span><span class="k">fn</span><span class="w"> </span><span class="nf">main</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="s">&quot;Hello there! How are you doing this fine Monday morning?&quot;</span><span class="p">.</span><span class="n">capcount</span><span class="p">.</span><span class="n">print</span><span class="p">;</span><span class="w"> </span><span class="c1">// Prints 14</span>
<span class="w">  </span><span class="s">&quot;foo bar baz&quot;</span><span class="p">.</span><span class="n">capcount</span><span class="p">.</span><span class="n">print</span><span class="p">;</span><span class="w"> </span><span class="c1">// Prints 0</span>
<span class="p">}</span>
</code></pre></div>
<p>Assuming the default <code>i64</code> constructor function and the more recent <code>fma</code> definition are already defined.</p>
<p>We use string ordering to figure out which strings begin with capital letters (because their first character is earlier in ASCII and unicode ordering than the lowercase letters) and keep only those, then we compute the <code>len</code> of each substring, then we add them together, and finally print the output number. Because <code>i64</code> now has a default constructor, even when we called it a second time with only lowercase words, we'll get the expected value of <code>0</code> in this situation.</p>
<h2 id="compile-time-computation-conditional-types-and-conditional-compilation">Compile-Time Computation, Conditional Types, and Conditional Compilation</h2>
<p>As was shown with <code>Buffer</code>s when defining the size of buffer instances, the type system can work with constant primitive types. The type system includes integers, floats, booleans, and strings. These types can also be manipulated at compile time to generate the actual value to use.</p>
<h3 id="compile-time-computation">Compile-Time Computation</h3>
<p>While declaring a buffer of <code>i64[1 + 2]</code> will give you a buffer of three elements, that's not <em>generally</em> useful. (Though sometimes you do want to include a bunch of explicit arithmetic to show where some constant value came from.) This feature is more meant for use with generic types. For instance, the <code>concat</code> function for buffers has a type signature of:</p>
<div class="language-rs highlight"><pre><span></span><code><span class="n">export</span><span class="w"> </span><span class="k">fn</span><span class="w"> </span><span class="nf">concat</span><span class="p">{</span><span class="n">T</span><span class="p">,</span><span class="w"> </span><span class="n">S</span><span class="p">,</span><span class="w"> </span><span class="n">N</span><span class="p">}(</span><span class="n">a</span><span class="p">:</span><span class="w"> </span><span class="nc">Buffer</span><span class="p">{</span><span class="n">T</span><span class="p">,</span><span class="w"> </span><span class="n">S</span><span class="p">},</span><span class="w"> </span><span class="n">b</span><span class="p">:</span><span class="w"> </span><span class="nc">Buffer</span><span class="p">{</span><span class="n">T</span><span class="p">,</span><span class="w"> </span><span class="n">N</span><span class="p">})</span><span class="w"> </span><span class="p">-&gt;</span><span class="w"> </span><span class="nc">Buffer</span><span class="p">{</span><span class="n">T</span><span class="p">,</span><span class="w"> </span><span class="n">S</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">N</span><span class="p">}</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="o">..</span><span class="p">.</span>
</code></pre></div>
<p>The output buffer length is computed from the lengths of the two input buffers.</p>
<p>Beyond addition there are all of the arithmetic operations, as well as the comparison operators (<code>&lt;</code>, <code>&lt;=</code>, <code>&gt;</code>, <code>&gt;=</code>, <code>==</code>, <code>!=</code>), and so on.</p>
<p>There are also some special compile-time types to provide data at compile-time that may be useful.</p>
<ul>
<li><code>Env{K}</code> returns the string environment variable for the given string key (or aborts compilation if not present)</li>
<li><code>FileStr{F}</code> returns the contents of a file as a string for a given file path (or aborts compilation)</li>
<li><code>If{C, A, B}</code> resolves as type <code>A</code> if <code>C</code> is <code>true</code>, and as <code>B</code> if <code>C</code> is false.</li>
</ul>
<h3 id="conditional-types">Conditional Types</h3>
<p>The <code>If{C, A, B}</code> type is the primary conditional type in Alan, letting you choose which type to actually resolve as. This could be for a variety of reasons; automatically swapping between <code>Buffer</code>, <code>Array</code>, or <code>GBuffer</code> based on the size of the data to be processed, or swapping out filesystem type depending on the operating system you're running on.</p>
<p>For example, a <code>Path</code> type could be defined like:</p>
<div class="language-rs highlight"><pre><span></span><code><span class="k">type</span><span class="w"> </span><span class="nc">Path</span><span class="w"> </span><span class="o">=</span>
<span class="w">  </span><span class="n">hasDrives</span><span class="p">:</span><span class="w"> </span><span class="nc">If</span><span class="p">{</span><span class="n">Windows</span><span class="p">,</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w"> </span><span class="kc">false</span><span class="p">},</span>
<span class="w">  </span><span class="n">separator</span><span class="p">:</span><span class="w"> </span><span class="nc">If</span><span class="p">{</span><span class="n">Windows</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;</span><span class="se">\\</span><span class="s">&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;/&quot;</span><span class="p">},</span>
<span class="w">  </span><span class="n">path</span><span class="p">:</span><span class="w"> </span><span class="nc">string</span><span class="p">;</span>
</code></pre></div>
<p>When a field in a product type resolves to a constant type value, Alan removes it from the actual product type that is constructed but keeps the accessor function for it that returns the primitive type with that value, and the compiler converts any calls to that function directly into the constant in the code, making it effectively zero-cost to "annotate" your types with metadata that can be determined at compile-time for all instances of that type.</p>
<p>This usually only applies for things like the target operation system, processor architecture, or build type (test, debug, release), but there's no restriction on what it can be used for.</p>
<h3 id="tagged-types-digression">Tagged Types Digression</h3>
<p>An internal type for implementing the GPU types, <code>WgpuType{N}</code>, is used with <code>N</code> being the <code>wgsl</code> name of the type (which differs from the Alan name for the type) and is a constant string. Eg:</p>
<div class="language-rs highlight"><pre><span></span><code><span class="k">type</span><span class="w"> </span><span class="nc">gu32</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">WgpuType</span><span class="p">{</span><span class="s">&quot;u32&quot;</span><span class="p">};</span>
</code></pre></div>
<p>This isn't conditional, but allows the type to be "tagged" with metadata to use at run time.</p>
<h3 id="conditional-compilation">Conditional Compilation</h3>
<p><code>If{C, A, B}</code> is useful in combination with the <code>Env{K}</code> type to have features enabled or disabled during compilation, but when the type or function they're associated with differs significantly, sprinkling conditionals everywhere can make your code harder to read, so Alan has a unique feature (as far as we're aware) to allow top-level <em>keywords</em> to be optionally generic, accepting a single compile-time boolean type as the argument to determine whether or not to include it in the compilation process at all.</p>
<p>The <code>Path</code> example <em>could</em> be written as:</p>
<div class="language-rs highlight"><pre><span></span><code><span class="k">type</span><span class="w"> </span><span class="nc">Path</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">hasDrives</span><span class="p">:</span><span class="w"> </span><span class="nc">false</span><span class="p">,</span><span class="w"> </span><span class="n">separator</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;/&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">path</span><span class="p">:</span><span class="w"> </span><span class="nc">string</span><span class="p">;</span>
<span class="k">type</span><span class="p">{</span><span class="n">Windows</span><span class="p">}</span><span class="w"> </span><span class="n">Path</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">hasDrive</span><span class="p">:</span><span class="w"> </span><span class="nc">true</span><span class="p">,</span><span class="w"> </span><span class="n">separator</span><span class="w"> </span><span class="s">&quot;</span><span class="se">\\</span><span class="s">&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">path</span><span class="p">:</span><span class="w"> </span><span class="nc">string</span><span class="p">;</span>
</code></pre></div>
<p>Here we're relying on the "last definition wins" tiebreaker for identical definitions. For non-Windows platforms the first <code>Path</code> is the only one so it sticks around, while on Windows, both are defined but the Windows-specific one is defined second so it overrides the first definition.</p>
<p>But this works any keyword in the top-level of the source file, so <code>fn{Test}</code> defines a function that only exists during testing, <code>export{Windows}</code> exports something only for the Windows platform, etc.</p>
<p>Conditional compilation in Alan simply requires tagging the code that you want to be compiled only in certain circumstances with the condition that it should be compiled. That's it.</p>
<h2 id="operators-and-type-operators">Operators and Type Operators</h2>
<p>It has been alluded to in prior sections that operators are just functions and type operators are just generic types (aka type functions), and that is the case.</p>
<p>Alan defines a mapping of certain operator symbols to certain functions and type operator symbols to certain generic types, so <code>1 + 2</code> inside of a function is equivalent to <code>add(1, 2)</code> and the same inside of a type is equivalent to <code>Add{1, 2}</code>.</p>
<p>There is also a defined precedence between operators, so multiplying <code>*</code> is converted to a functional form before adding <code>+</code>.</p>
<p>Specifically, multiplying is given a precedence of <code>4</code> and adding a precedence of <code>3</code>. When processing a statement (type or function), the statement is scanned for the highest precedence operator, with ties resolving to the left-most operator, then converting it and the surrounding sub-statement segments into a function call, and repeating the process until only function calls remain in the statement.</p>
<figure>
  <img alt="&quot;It's all function calls?&quot; &quot;Always has been&quot;" src="../assets/always_has_been.jpg" />
  <figcaption><h6>You can faintly hear mad cackling coming from the old <a href="https://en.wikipedia.org/wiki/Symbolics">Symbolics</a> headquarters...</h6></figcaption>
</figure>
<p>Operators can only be one or two argument functions (or generic types). For two arguments, the operator is an <code>infix</code> operator placed between its two operands, while for one argument, the operator may be bound as a <code>prefix</code> or <code>postfix</code> operator. Prefix operators come before the value they operate on, eg <code>-x</code> maps to <code>neg(x)</code>, and postfix operators come after the value they operate on, eg <code>i64?</code> maps to <code>Maybe{i64}</code>.</p>
<h3 id="augmenting-operators">Augmenting Operators</h3>
<p>As operators and type operators simply map to functions and generic types (type functions), you can augment the behavior of an operator by defining a new function with the same name as one of the operators' mapped function names, but for a new type.</p>
<p>In standard Alan, the following doesn't compile:</p>
<div class="language-text highlight"><pre><span></span><code>export fn main {
  print(&quot;Hello, &quot; + &quot;World!&quot;);
}
</code></pre></div>
<p>But it can be made to work pretty easily:</p>
<div class="language-text highlight"><pre><span></span><code>fn add(a: string, b: string) = a.concat(b);

export fn main {
  print(&quot;Hello, &quot; + &quot;World!&quot;);
}
</code></pre></div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This pattern of string construction is generally frowned upon nowadays, primarily because in Javascript and other dynamic languages it leads to weird math errors where <code>"Hello" + 2</code> works, though even with the augmentation described above that would still fail to compile in Alan.</p>
<p>But the other reason why is because it requires a lot of memory allocation and memory copying that template-based string construction avoids, making the template-based approach faster for all but the most trivial of examples.</p>
</div>
<p>This behavior is more useful for your own custom types, for instance:</p>
<div class="language-rs highlight"><pre><span></span><code><span class="k">type</span><span class="w"> </span><span class="nb">Vec</span><span class="p">{</span><span class="n">T</span><span class="p">,</span><span class="w"> </span><span class="n">L</span><span class="p">}</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">If</span><span class="p">{</span>
<span class="w">  </span><span class="n">L</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="mi">5</span><span class="p">,</span>
<span class="w">  </span><span class="n">T</span><span class="p">[</span><span class="n">L</span><span class="p">],</span>
<span class="w">  </span><span class="n">Fail</span><span class="p">{</span><span class="s">&quot;Vector CPU extensions only work for vectors of length 4 or less&quot;</span><span class="p">}};</span>
</code></pre></div>
<p>A wrapper around a buffer type constrained to lengths 1-4 that you then execute specialized functions on would be nicer to work with if you can use arithmetic operators on it for parallelized addition, multiplication, etc.</p>
<p>Just defining:</p>
<div class="language-rs highlight"><pre><span></span><code><span class="k">fn</span><span class="w"> </span><span class="nf">add</span><span class="p">{</span><span class="n">T</span><span class="p">,</span><span class="w"> </span><span class="n">L</span><span class="p">}(</span><span class="n">a</span><span class="p">:</span><span class="w"> </span><span class="nb">Vec</span><span class="p">{</span><span class="n">T</span><span class="p">,</span><span class="w"> </span><span class="n">L</span><span class="p">},</span><span class="w"> </span><span class="n">b</span><span class="p">:</span><span class="w"> </span><span class="nb">Vec</span><span class="p">{</span><span class="n">T</span><span class="p">,</span><span class="w"> </span><span class="n">L</span><span class="p">})</span><span class="w"> </span><span class="p">-&gt;</span><span class="w"> </span><span class="nb">Vec</span><span class="p">{</span><span class="n">T</span><span class="p">,</span><span class="w"> </span><span class="n">L</span><span class="p">}</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="o">..</span><span class="p">.</span>
</code></pre></div>
<p>will then include this function in the set the <code>+</code> operator could resolve to.</p>
<p>The other way operators can be augmented is by altering the function they bind to and/or the precedence they're set at.</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>While this change will only be visible within the specific file you've made this alteration to or any other file that <code>import</code>s this change, changing the precedence or binding of an operator can be <strong>VERY</strong> confusing to anyone reading the code in your file. Do not do this lightly.</p>
</div>
<p>The syntax to alter an operator is:</p>
<div class="language-rs highlight"><pre><span></span><code><span class="n">infix</span><span class="w"> </span><span class="o">&lt;</span><span class="n">fnName</span><span class="o">&gt;</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="o">&lt;</span><span class="n">symbol</span><span class="o">&gt;</span><span class="w"> </span><span class="n">precedence</span><span class="w"> </span><span class="o">&lt;</span><span class="n">N</span><span class="o">&gt;</span><span class="p">;</span>
<span class="n">prefix</span><span class="w"> </span><span class="o">&lt;</span><span class="n">fnName</span><span class="o">&gt;</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="o">&lt;</span><span class="n">symbol</span><span class="o">&gt;</span><span class="w"> </span><span class="n">precedence</span><span class="w"> </span><span class="o">&lt;</span><span class="n">N</span><span class="o">&gt;</span><span class="p">;</span>
<span class="n">postfix</span><span class="w"> </span><span class="o">&lt;</span><span class="n">fnName</span><span class="o">&gt;</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="o">&lt;</span><span class="n">symbol</span><span class="o">&gt;</span><span class="w"> </span><span class="n">precedence</span><span class="w"> </span><span class="o">&lt;</span><span class="n">N</span><span class="o">&gt;</span><span class="p">;</span>
</code></pre></div>
<p>So we can drop the precedence of the prefix negation operator (<code>-</code>) by writing:</p>
<div class="language-rs highlight"><pre><span></span><code><span class="n">prefix</span><span class="w"> </span><span class="n">neg</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">precedence</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
</code></pre></div>
<p>Or change the infix addition operator (<code>+</code>) to <code>concat</code> by writing:</p>
<div class="language-rs highlight"><pre><span></span><code><span class="n">infix</span><span class="w"> </span><span class="n">concat</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">precedence</span><span class="w"> </span><span class="mi">3</span><span class="p">;</span>
</code></pre></div>
<p>The syntax for type operators is identical, except that it is preceded by the <code>type</code> keyword:</p>
<div class="language-rs highlight"><pre><span></span><code><span class="k">type</span><span class="w"> </span><span class="nc">infix</span><span class="w"> </span><span class="o">&lt;</span><span class="n">typeName</span><span class="o">&gt;</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="o">&lt;</span><span class="n">symbol</span><span class="o">&gt;</span><span class="w"> </span><span class="n">precedence</span><span class="w"> </span><span class="o">&lt;</span><span class="n">N</span><span class="o">&gt;</span><span class="p">;</span>
<span class="k">type</span><span class="w"> </span><span class="nc">prefix</span><span class="w"> </span><span class="o">&lt;</span><span class="n">typeName</span><span class="o">&gt;</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="o">&lt;</span><span class="n">symbol</span><span class="o">&gt;</span><span class="w"> </span><span class="n">precedence</span><span class="w"> </span><span class="o">&lt;</span><span class="n">N</span><span class="o">&gt;</span><span class="p">;</span>
<span class="k">type</span><span class="w"> </span><span class="nc">postfix</span><span class="w"> </span><span class="o">&lt;</span><span class="n">typeName</span><span class="o">&gt;</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="o">&lt;</span><span class="n">symbol</span><span class="o">&gt;</span><span class="w"> </span><span class="n">precedence</span><span class="w"> </span><span class="o">&lt;</span><span class="n">N</span><span class="o">&gt;</span><span class="p">;</span>
</code></pre></div>
<p>So you could swap the precedence of the <code>Function</code> and <code>Tuple</code> type operators by writing:</p>
<div class="language-rs highlight"><pre><span></span><code><span class="k">type</span><span class="w"> </span><span class="nc">infix</span><span class="w"> </span><span class="n">Function</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="p">-&gt;</span><span class="w"> </span><span class="nc">precedence</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="k">type</span><span class="w"> </span><span class="nc">infix</span><span class="w"> </span><span class="n">Tuple</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="p">,</span><span class="w"> </span><span class="n">precedence</span><span class="w"> </span><span class="mi">3</span><span class="p">;</span>
</code></pre></div>
<p>This would let you define a function that takes multiple arguments <em>without</em> needing to group those arguments with parenthesis:</p>
<div class="language-rs highlight"><pre><span></span><code><span class="n">foo</span><span class="p">:</span><span class="w"> </span><span class="kt">i64</span><span class="p">,</span><span class="w"> </span><span class="n">bar</span><span class="p">:</span><span class="w"> </span><span class="kt">bool</span><span class="w"> </span><span class="p">-&gt;</span><span class="w"> </span><span class="nc">string</span>
</code></pre></div>
<p>But then requires you to wrap the entirety of the function type in parenthesis when using it as a type within a higher-order function:</p>
<div class="language-rs highlight"><pre><span></span><code><span class="k">fn</span><span class="w"> </span><span class="nf">someFn</span><span class="w"> </span><span class="n">normalArg</span><span class="p">:</span><span class="w"> </span><span class="kt">i64</span><span class="p">,</span><span class="w"> </span><span class="n">fnArg</span><span class="p">:</span><span class="w"> </span><span class="p">(</span><span class="n">foo</span><span class="p">:</span><span class="w"> </span><span class="kt">i64</span><span class="p">,</span><span class="w"> </span><span class="n">bar</span><span class="p">:</span><span class="w"> </span><span class="kt">bool</span><span class="w"> </span><span class="p">-&gt;</span><span class="w"> </span><span class="nc">string</span><span class="p">)</span><span class="w"> </span><span class="p">-&gt;</span><span class="w"> </span><span class="nc">string</span><span class="p">[]</span>
</code></pre></div>
<p>This looks weird and produces surprising syntax, so you <strong>really</strong> shouldn't do this.</p>
<h3 id="defining-new-operators">Defining New Operators</h3>
<p>But this same syntax can be used for defining <em>new</em> operators, which is more acceptable, especially if your code is defining a DSL that makes sense for your particular use-case and the developers you are collaborating with.</p>
<p>Returning to the vector example, instead of defining an <code>add</code> function and using <code>+</code>, we could do what Julia does where there's a <code>.+</code> operator that does piecewise addition.</p>
<p>Then we just need to define the <code>piecewiseAdd</code> function:</p>
<div class="language-rs highlight"><pre><span></span><code><span class="k">fn</span><span class="w"> </span><span class="nf">piecewiseAdd</span><span class="p">{</span><span class="n">T</span><span class="p">,</span><span class="w"> </span><span class="n">L</span><span class="p">}(</span><span class="n">a</span><span class="p">:</span><span class="w"> </span><span class="nb">Vec</span><span class="p">{</span><span class="n">T</span><span class="p">,</span><span class="w"> </span><span class="n">L</span><span class="p">},</span><span class="w"> </span><span class="n">b</span><span class="p">:</span><span class="w"> </span><span class="nb">Vec</span><span class="p">{</span><span class="n">T</span><span class="p">,</span><span class="w"> </span><span class="n">L</span><span class="p">})</span><span class="w"> </span><span class="p">-&gt;</span><span class="w"> </span><span class="nb">Vec</span><span class="p">{</span><span class="n">T</span><span class="p">,</span><span class="w"> </span><span class="n">L</span><span class="p">}</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="o">..</span><span class="p">.</span>
</code></pre></div>
<p>And create the <code>.+</code> operator:</p>
<div class="language-rs highlight"><pre><span></span><code><span class="n">infix</span><span class="w"> </span><span class="n">piecewiseAdd</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="p">.</span><span class="o">+</span><span class="w"> </span><span class="n">precedence</span><span class="w"> </span><span class="mi">3</span><span class="p">;</span>
</code></pre></div>
<p>And we can now <code>vec1 .+ vec2</code> in our code. The benefits here are:</p>
<ol>
<li>Those who are familiar with the dotted-operator DSL from Julia can immediately understand that this is a piecewise addition between vectors or matrices, aiding our comprehension.</li>
<li>Those who are <em>not</em> familiar with this syntax immediately know this is doing something non-standard, but can search for the text <code>.+ precedence</code> in the code to find the definition of this operator and then see what function is bound to the operator so they can then read up on what it's actually doing, as the mechanism for defining an operator is standardized. (And a language server could automatically figure this out for them and allow a go-to-definition for the operator.)</li>
</ol>
<h2 id="binding-functions-and-types-from-rust-or-javascript">Binding Functions and Types from Rust (or Javascript)</h2>
<p>Beyond defining functions and types in Alan, you may also bind functions and types to Rust or Javascript functions and types. This binding process trusts you completely that the binding has been specified correctly, so be sure that you're doing so.</p>
<h3 id="binding-functions">Binding Functions</h3>
<p>The two function syntaxes we have covered up until now are the single-statement and multi-statement syntaxes.</p>
<div class="language-rs highlight"><pre><span></span><code><span class="k">fn</span><span class="w"> </span><span class="nf">foo</span><span class="p">(</span><span class="n">a</span><span class="p">:</span><span class="w"> </span><span class="kt">i64</span><span class="p">,</span><span class="w"> </span><span class="n">b</span><span class="p">:</span><span class="w"> </span><span class="kt">i64</span><span class="p">,</span><span class="w"> </span><span class="n">c</span><span class="p">:</span><span class="w"> </span><span class="kt">i64</span><span class="p">)</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">b</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">c</span><span class="p">;</span>
<span class="k">fn</span><span class="w"> </span><span class="nf">bar</span><span class="p">(</span><span class="n">a</span><span class="p">:</span><span class="w"> </span><span class="kt">i64</span><span class="p">,</span><span class="w"> </span><span class="n">b</span><span class="p">:</span><span class="w"> </span><span class="kt">i64</span><span class="p">,</span><span class="w"> </span><span class="n">c</span><span class="p">:</span><span class="w"> </span><span class="kt">i64</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="k">const</span><span class="w"> </span><span class="n">d</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">b</span><span class="p">;</span>
<span class="w">  </span><span class="k">const</span><span class="w"> </span><span class="n">e</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">c</span><span class="p">;</span>
<span class="w">  </span><span class="k">return</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">b</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">c</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">d</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">e</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div>
<p>But there is a third syntax:</p>
<div class="language-rs highlight"><pre><span></span><code><span class="k">fn</span><span class="w"> </span><span class="nf">baz</span><span class="w"> </span><span class="s">&quot;baz&quot;</span><span class="w"> </span><span class="p">::</span><span class="w"> </span><span class="p">(</span><span class="kt">i64</span><span class="p">,</span><span class="w"> </span><span class="kt">i64</span><span class="p">,</span><span class="w"> </span><span class="kt">i64</span><span class="p">)</span><span class="w"> </span><span class="p">-&gt;</span><span class="w"> </span><span class="kt">i64</span><span class="p">;</span>
</code></pre></div>
<p>The <code>::</code> symbol is an alias for the <code>Call{N, F}</code> type, specifying a function call with the Rust function name as a string on the left, and the function type that it represents on the right. This <code>Call</code> type doesn't have any properties, but defines a single "constructor" function that takes the input specified and returns the output. This is used in conjunction with the function declaration syntax to give this "constructor" an easy-to-use name.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The <code>Call{N, F}</code> type requires a fully-defined function type, including the return type, for any function being bound from Rust or Javascript. Alan's type inference cannot operate on a language it wasn't designed for, so it must be told all of the necessary information ahead of time to work.</p>
</div>
<p>In fact, you could use this syntax with any type that produces an automatically-defined constructor function, so if you wanted to create an alias for a struct, but only when constructing it, you could do so:</p>
<div class="language-rs highlight"><pre><span></span><code><span class="k">type</span><span class="w"> </span><span class="nc">Record</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">value</span><span class="p">:</span><span class="w"> </span><span class="nc">string</span><span class="p">,</span><span class="w"> </span><span class="n">count</span><span class="p">:</span><span class="w"> </span><span class="kt">i64</span><span class="p">;</span>

<span class="k">fn</span><span class="w"> </span><span class="nf">r</span><span class="w"> </span><span class="n">Record</span><span class="p">;</span>
</code></pre></div>
<p>This will produce a function <code>r</code> that takes a <code>string</code> and <code>i64</code> and generates a <code>Record</code> object. It's essentially shorthand for:</p>
<div class="language-rs highlight"><pre><span></span><code><span class="k">fn</span><span class="w"> </span><span class="nf">r</span><span class="w"> </span><span class="p">(</span><span class="n">v</span><span class="p">:</span><span class="w"> </span><span class="nc">string</span><span class="p">,</span><span class="w"> </span><span class="n">c</span><span class="p">:</span><span class="w"> </span><span class="kt">i64</span><span class="p">)</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Record</span><span class="p">(</span><span class="n">v</span><span class="p">,</span><span class="w"> </span><span class="n">c</span><span class="p">);</span>
</code></pre></div>
<p>which reduces some redundant syntax, but also eliminates the wrapper function from the call stack.</p>
<p>You can bind more than just Rust functions as Alan functions. Since functions in Alan are also methods, properties, and operators, these concepts in Rust are also bindable as functions (which you can then use as methods or properties automatically and can rebind to an operator if desired).</p>
<div class="language-rs highlight"><pre><span></span><code><span class="k">fn</span><span class="w"> </span><span class="nf">add</span><span class="w"> </span><span class="n">Infix</span><span class="p">{</span><span class="s">&quot;+&quot;</span><span class="p">}</span><span class="w"> </span><span class="p">::</span><span class="w"> </span><span class="p">(</span><span class="kt">f32</span><span class="p">,</span><span class="w"> </span><span class="kt">f32</span><span class="p">)</span><span class="w"> </span><span class="p">-&gt;</span><span class="w"> </span><span class="kt">f32</span><span class="p">;</span>
</code></pre></div>
<p>This defines an <code>add</code> function for 32-bit floats, being bound to Rust's <code>+</code> operator <em>and</em> that function name <code>and</code> being bound to <code>+</code> within Alan.</p>
<p>In Alan, values are passed by reference to functions, but in Rust, you can call functions in different ways, such as passing ownership to the function, passing a mutable reference, or simply dereferencing a reference. Therefore, you can annotate the function type for these bound functions, operators, etc, with <code>Own{T}</code>, <code>Deref{T}</code>, etc.</p>
<div class="language-rs highlight"><pre><span></span><code><span class="k">fn</span><span class="w"> </span><span class="nf">eq</span><span class="w"> </span><span class="n">Infix</span><span class="p">{</span><span class="s">&quot;==&quot;</span><span class="p">}</span><span class="w"> </span><span class="p">::</span><span class="w"> </span><span class="p">(</span><span class="n">Deref</span><span class="p">{</span><span class="kt">i8</span><span class="p">},</span><span class="w"> </span><span class="n">Deref</span><span class="p">{</span><span class="kt">i8</span><span class="p">})</span><span class="w"> </span><span class="p">-&gt;</span><span class="w"> </span><span class="kt">bool</span><span class="p">;</span>
</code></pre></div>
<p>This defines an <code>eq</code> function for 8-bit integers, binding it to Rust's <code>==</code> operator, but indicating to Alan that it should dereference the arguments when passing them to the operator. These various generic types allow you to annotate the binding, eliminating the need for writing wrapper functions in Rust.</p>
<h3 id="binding-functions-from-platform-specific-libraries">Binding Functions from Platform-specific Libraries</h3>
<p>There are a collection of types involved in specifying dependencies stored on <a href="https://crates.io">crates.io</a> and <a href="https://npmjs.com">npm</a> that you can use in conjunction with the <code>Call{N, F}</code> type to bind to 3rd party libraries in whichever host language you choose to compile to.</p>
<p>These are:</p>
<ul>
<li><code>Import{N, D}</code> - specifying the name of the function or type to import from the dependency. Also bound as the <code>&lt;-</code> type operator.</li>
<li><code>From{D}</code> - Special syntactic sugar that uses the name of the type or function declaration to determine the name of the type or function to import. Bound to the <code>&lt;--</code> type operator.</li>
<li><code>Dependency{N, V}</code> - specifying the name and version (or raw git URL) of the dependency. Also bound as the <code>@</code> type operator.</li>
<li><code>Rust{D}</code> - specifying that this is a Rust crate.</li>
<li><code>Nodejs{D}</code> - specifying that this is an NPM package.</li>
</ul>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>It is intended for <code>Import{N, D}</code> and <code>From{D}</code> to both be bound to <code>&lt;-</code>, with <code>Import{N, D}</code> as an infix operator and <code>From{D}</code> as a prefix operator, but some refactoring is needed in the compiler to allow the same symbol to bind to different operators.</p>
</div>
<p>You use three of the five of these types in place of the <code>N</code> argument of <code>Call{N, F}</code> to specify a platform-native library function or type to import. Eg:</p>
<div class="language-rs highlight"><pre><span></span><code><span class="k">fn</span><span class="p">{</span><span class="n">Rs</span><span class="p">}</span><span class="w"> </span><span class="n">escape</span><span class="w"> </span><span class="n">Call</span><span class="p">{</span><span class="n">Import</span><span class="p">{</span><span class="s">&quot;regex_syntax::escape&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">Rust</span><span class="p">{</span><span class="n">Dependency</span><span class="p">{</span><span class="s">&quot;regex-syntax&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;0.8.5&quot;</span><span class="p">}}},</span><span class="w"> </span><span class="n">Function</span><span class="p">{</span><span class="n">string</span><span class="p">,</span><span class="w"> </span><span class="n">string</span><span class="p">}};</span><span class="w"> </span><span class="c1">// Binds the `escape` function from `regex-syntax`</span>
<span class="k">fn</span><span class="p">{</span><span class="n">Rs</span><span class="p">}</span><span class="w"> </span><span class="n">escape</span><span class="w"> </span><span class="s">&quot;regex_syntax::escape&quot;</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">Rust</span><span class="p">{</span><span class="s">&quot;regex-syntax&quot;</span><span class="w"> </span><span class="o">@</span><span class="w"> </span><span class="s">&quot;0.8.5&quot;</span><span class="p">}</span><span class="w"> </span><span class="p">::</span><span class="w"> </span><span class="nc">string</span><span class="w"> </span><span class="p">-&gt;</span><span class="w"> </span><span class="nc">string</span><span class="p">;</span><span class="w"> </span><span class="c1">// Same binding but using type operators where possible</span>
<span class="k">fn</span><span class="p">{</span><span class="n">Js</span><span class="p">}</span><span class="w"> </span><span class="n">yamlLoad</span><span class="w"> </span><span class="n">Call</span><span class="p">{</span><span class="n">Import</span><span class="p">{</span><span class="s">&quot;js_yaml.load&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">Nodejs</span><span class="p">{</span><span class="n">Dependency</span><span class="p">{</span><span class="s">&quot;js-yaml&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;4.1.0&quot;</span><span class="p">}}},</span><span class="w"> </span><span class="n">Function</span><span class="p">{</span><span class="n">string</span><span class="p">,</span><span class="w"> </span><span class="n">JSObject</span><span class="p">}};</span><span class="w"> </span><span class="c1">// Binds the `load` function from `js-yaml` (Alan doesn&#39;t have a JSObject type, yet, so good luck with that part!)</span>
<span class="k">fn</span><span class="p">{</span><span class="n">Js</span><span class="p">}</span><span class="w"> </span><span class="n">yamlLoad</span><span class="w"> </span><span class="s">&quot;js_yaml.load&quot;</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">Nodejs</span><span class="p">{</span><span class="s">&quot;js-yaml&quot;</span><span class="w"> </span><span class="o">@</span><span class="w"> </span><span class="s">&quot;4.1.0&quot;</span><span class="p">}</span><span class="w"> </span><span class="p">::</span><span class="w"> </span><span class="nc">string</span><span class="w"> </span><span class="p">-&gt;</span><span class="w"> </span><span class="nc">JSObject</span><span class="p">;</span><span class="w"> </span><span class="c1">// Same binding but using type operators where possible</span>
</code></pre></div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The conditional compilation on the function definitions when importing libraries native to the platform language is <strong>highly recommended</strong> to prevent compilation failures if/when your code is targeting a different platform language.</p>
<p>Ideally if you need native code, you have paired <code>fn{Rs}</code> and <code>fn{Js}</code> bindings so your code can seamlessly compile to the browser as well as natively. Alan's root scope and standard library follow this advice.</p>
</div>
<p>For now, you must include the name of the library the function is coming from in the binding string for this to work. In Rust it's separated with <code>::</code> between the library name and the thing to import and in Javascript it is separated with <code>.</code>. In Javascript, the compiler automatically converts <code>-</code> in a package name to <code>_</code> for the variable name the package occupies.</p>
<h3 id="binding-types">Binding Types</h3>
<p>Similarly, binding types is done with the <code>Binds{T, ...}</code> type.</p>
<div class="language-rs highlight"><pre><span></span><code><span class="k">type</span><span class="w"> </span><span class="nc">Foo</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Binds</span><span class="p">{</span><span class="s">&quot;Foo&quot;</span><span class="p">};</span>
<span class="k">type</span><span class="w"> </span><span class="nc">Bar</span><span class="p">{</span><span class="n">A</span><span class="p">,</span><span class="w"> </span><span class="n">B</span><span class="p">}</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Binds</span><span class="p">{</span><span class="s">&quot;Bar&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">A</span><span class="p">,</span><span class="w"> </span><span class="n">B</span><span class="p">};</span><span class="w"> </span><span class="c1">// Becomes Bar&lt;A, B&gt; in Rust</span>
</code></pre></div>
<p>Bound types are different from normal Alan types in that <em>zero</em> constructor and accessor functions are automatically defined for them. It is up to you <code>Call</code> Rust functions that create and work with this type.</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>In Alan, it is assumed that <strong>all</strong> types can be <code>clone</code>d and <code>hash</code>ed, and the Alan compiler will generate code with that assumption. It is <strong>highly</strong> recommended that types that can't be cloned are wrapped in <code>Rc&lt;T&gt;</code> or <code>Arc&lt;T&gt;</code> during the binding, and types that can't be hashed should be wrapped with the <a href="https://doc.rust-lang.org/rust-by-example/generics/new_types.html">New Type Idiom</a> and then <a href="https://doc.rust-lang.org/stable/std/hash/trait.Hash.html#implementing-hash"><code>impl</code> the <code>Hash</code></a> and <a href="https://doc.rust-lang.org/std/cmp/trait.PartialEq.html#how-can-i-implement-partialeq">the <code>PartialEq</code> and <code>Eq</code></a> traits. If you need to do both, put the <code>Rc&lt;T&gt;</code> wrapping within the New Type wrapper.</p>
</div>
<p>Bound functions and types are tricky to work with, but provide a zero-cost FFI to the existing Rust (and eventually Javascript) ecosystem of libraries. The syntax is pretty simple, but leaves correctness up to you, so tread lightly if you need it!</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>When multiple target languages are supported in Alan, there will be global boolean type constants <code>Rs</code> and <code>Js</code> that you can use with conditional compilation to choose which <code>type</code> or <code>fn</code> definition is actually selected, eg:</p>
<div class="language-rs highlight"><pre><span></span><code><span class="k">type</span><span class="p">{</span><span class="n">Rs</span><span class="p">}</span><span class="w"> </span><span class="kt">i32</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Binds</span><span class="p">{</span><span class="s">&quot;i32&quot;</span><span class="p">};</span>
<span class="k">type</span><span class="p">{</span><span class="n">Js</span><span class="p">}</span><span class="w"> </span><span class="kt">i32</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Binds</span><span class="p">{</span><span class="s">&quot;Number&quot;</span><span class="p">};</span>
</code></pre></div>
<p>Libraries in Alan that need to bind into the target language <strong>should</strong>, if at all possible, have a binding for both target languages, but if they can't, or it doesn't make sense to (eg, process control access in Javascript or DOM access in Rust), then it would be best to implement a poison pill like this to block compilation in the wrong target language:</p>
<div class="language-rs highlight"><pre><span></span><code><span class="k">type</span><span class="p">{</span><span class="n">Rs</span><span class="p">}</span><span class="w"> </span><span class="n">Dom</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Fail</span><span class="p">{</span><span class="s">&quot;This library can only be used when compiled to Javascript, as Rust does not have a DOM.&quot;</span><span class="p">}</span>
</code></pre></div>
</div>
<h3 id="binding-types-from-platform-specific-libraries">Binding Types from Platform-specific Libraries</h3>
<p>The same collection of types involved in binding functions from platform languages works identically for types. Well, sort-of identically. Javascript doesn't have types, so what happens there? The type is just an internal construct within the compiler to prevent you from accidentally assigning the wrong kind of value to the wrong variable, and is not emitted in the code generation at all. It just needs to be "distinct", so it's <em>recommended</em> to write it in a similar way, with Javascript class names being a decent analog to use.</p>
<p>In neither Rust nor Javascript binding will <em>constructor functions</em> be automatically bound for these types; they're opaque to the compiler, so you also need to bind a function to construct them (and by convention that function name should match the type name, and this is where a Javascript library's class would actually be imported, as the constructor function).</p>
<p>For Rust, though, these type bindings must be precise, not just unique, or the generated code will be incorrect. Similar to how import declaration takes the first generic argument of the <code>Call{N, F}</code> type, when you bind a type, it takes place of the first generic argument of the <code>Binds{T, ...}</code> type:</p>
<div class="language-rs highlight"><pre><span></span><code><span class="k">type</span><span class="p">{</span><span class="n">Rs</span><span class="p">}</span><span class="w"> </span><span class="n">HashMap</span><span class="p">{</span><span class="n">K</span><span class="p">,</span><span class="w"> </span><span class="n">V</span><span class="p">}</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Binds</span><span class="p">{</span><span class="s">&quot;hashbrown::HashMap&quot;</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">Rust</span><span class="p">{</span><span class="s">&quot;hashbrown&quot;</span><span class="w"> </span><span class="o">@</span><span class="w"> </span><span class="s">&quot;0.15.2&quot;</span><span class="p">},</span><span class="w"> </span><span class="n">K</span><span class="p">,</span><span class="w"> </span><span class="n">V</span><span class="p">};</span><span class="w"> </span><span class="c1">// Binding the hashbrown high-performance HashMap type</span>
<span class="k">type</span><span class="p">{</span><span class="n">Js</span><span class="p">}</span><span class="w"> </span><span class="n">Moment</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Binds</span><span class="p">{</span><span class="s">&quot;Moment&quot;</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">Nodejs</span><span class="p">{</span><span class="s">&quot;moment&quot;</span><span class="w"> </span><span class="o">@</span><span class="w"> </span><span class="s">&quot;2.30.1&quot;</span><span class="p">}};</span><span class="w"> </span><span class="c1">// Binding the Moment datetime type</span>
</code></pre></div>
<p>You can bind generic functions in Alan as you can see here, but technically what happens under the hood is that a concrete type is constructed for each set of generic arguments you used in your Alan code; the actual generic type is never emitted to the Rust compiler. This is the same thing Rust itself does when generating your binary, effectively duplicating the generic type for each concrete instance of it, so this should have no impact on the size of the resulting binary.</p>
<h2 id="conditional-statements">Conditional Statements</h2>
<p>Currently in Alan, Conditional statements are implemented solely with the <code>if</code> functions, which take a boolean and one or two functions that take zero arguments and optionally return a value.</p>
<p>If you provide just one function, it is run only if the condition is <code>true</code> and its return value is passed back through the <code>if</code> function wrapped in a <code>Maybe{T}</code> that you then need to check the value of.</p>
<p>If you provide two functions, the first is run when <code>true</code> and the second is run when <code>false</code>. Both functions <em>must</em> return the same type, and the <code>if</code> function returns the value from either branch for you.</p>
<p>Before Alan v0.2.0 is released a "normal-looking" conditional syntax is planned, allowing for early returns and etc, and will actually be implemented via rewriting your code to use the <code>if</code> function, instead, but this has not yet been done.</p>
<h2 id="interfaces-aka-types-of-types">Interfaces (AKA Types of Types)</h2>
<p>Currently, when you pass "bad" types into generic functions or generic types that won't actually work, it will fail to compile as one would expect, but it fails deeper into the compilation and the resulting error message from the compiler is confusing.</p>
<p>It is planned to allow generic types and generic functions to specify type constraints. These type constraints can be the names of generic types that the type must be constructed from <em>or</em> an <code>interface</code> type that declares a set of function types indicating how the type can be operated on, allowing a type-safe kind of "duck typing."</p>
<h2 id="importing-from-files-and-libraries">Importing from Files and Libraries</h2>
<p>In many languages, importing from other files and libraries is done with a special syntax, and this syntax is often a preamble placed at the beginning of a source file. This is true of Rust, Java, C#, Python, and modern module-aware Javascript, amongst many others. This general approach is the default across many languages.</p>
<p>C is an example of a language that differs in this regard as importing is done through trickery in the C preprocessor, conditionally including the source of another file, usually a "header" file that simply declares the C functions that exist in another file that will be linked into the library or binary to be generated. Essentially, there is no such thing as modules in the language itself; it's just a construct within the preprocessor to order the source into one long set of source code to actually compile. Pre-module-aware Javascript was similar, and this is the second most common way for languages to "deal" with importing -- make it the developer's problem to handle.</p>
<p>Alan differs from both of these. The authors of Alan have not seen the approach chosen in any other language, though it is most similar to Lisp: importing is done through the type system. There are 5 types involved in importing code from other files:</p>
<div class="language-text highlight"><pre><span></span><code>Import{N, D}
From{D}
Dependency{N, V}
Rust{D}
Node{D}
</code></pre></div>
<p>Of these, the first three have operators binding them.</p>
<div class="language-rs highlight"><pre><span></span><code><span class="n">N</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">D</span>
<span class="o">&lt;--</span><span class="w"> </span><span class="n">D</span>
<span class="n">N</span><span class="w"> </span><span class="o">@</span><span class="w"> </span><span class="n">V</span>
</code></pre></div>
<p>The <code>Import{N, D}</code>, or <code>N &lt;- D</code> type imports the named type or function from the specified dependency. The <code>N</code> parameter must resolve into a string, while the <code>D</code> parameter may be a string, a <code>Dependency{N, V}</code>, <code>Rust{D}</code> or <code>Node{D}</code>.</p>
<p>When <code>D</code> is a string, it is treated as a path to another file on the filesystem. If the path is a relative path, it is relative to the current file. If it's an absolute path, the root of the path is anchored in the path where the <code>alan</code> command was invoked. Relative paths can also only reach within the filesystem tree contained by the path the <code>alan</code> command was invoked, to reduce/eliminate certain security vulnerabilities during compilation and to prevent accidentally writing code that is not properly encapsulated.</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>Passing a <code>Dpendency{N, V}</code> <em>directly</em> to an <code>Import{N, D}</code> is not yet implemented as the finer details of libraries have not yet been fleshed out.</p>
</div>
<p>When <code>D</code> is <code>Rust{D}</code> or <code>Node{D}</code>, this indicates that the dependency is a native one to the Rust or Node.js platform, respectively, and this <code>D</code> <em>must</em> resolve to a <code>Dependency{N, V}</code> type. When done this way, <code>N</code> is the name of the module in <code>Cargo</code> or <code>NPM</code>, and <code>V</code> is the version, by default. However, <code>V</code> could also be the URL to a git repository, and that URL may have a <code>#</code> followed by a branch/tag name to specify the particular branch or tag to check out.</p>
<p>When compiling natively, only <code>Rust{D}</code> may be used, and when bundling for the browser, only <code>Node{D}</code> may be used. Usage of the wrong native dependency type is an immediate compilation failure. Fortunately you can easily mask one or the other with conditional compilation and the built-in <code>Rs</code> and <code>Js</code> boolean type values.</p>
<p>If the <code>Import{N, D}</code> is a type, you can make use of it in your own code by simply assigning it to an alias, eg:</p>
<div class="language-rs highlight"><pre><span></span><code><span class="k">type</span><span class="w"> </span><span class="nc">foo</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Import</span><span class="p">{</span><span class="s">&quot;foo&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;./foo.ln&quot;</span><span class="p">};</span>
</code></pre></div>
<p>Similarly, as functions can be defined solely from a type, if <code>foo</code> were a function instead of a type, you could do:</p>
<div class="language-rs highlight"><pre><span></span><code><span class="k">fn</span><span class="w"> </span><span class="nf">foo</span><span class="w"> </span><span class="n">Import</span><span class="p">{</span><span class="s">&quot;foo&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;./foo.ln&quot;</span><span class="p">};</span>
</code></pre></div>
<p>Importing in Alan requires explicitly declaring whether the value being imported is a function or a type, making the code more self-documenting when it is read later.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>There currently is no way to import operators or type operators, though this is intended to be implemented in the future. It has been a lower priority since operators and type operators are simple declarative statements so copy-pasting isn't too terrible.</p>
</div>
<p>The <code>Import{N, D}</code> syntax is shorter with the <code>&lt;-</code> operator syntax:</p>
<div class="language-rs highlight"><pre><span></span><code><span class="k">type</span><span class="w"> </span><span class="nc">foo</span><span class="w"> </span><span class="s">&quot;foo&quot;</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="s">&quot;./foo.ln&quot;</span><span class="p">;</span>
<span class="k">fn</span><span class="w"> </span><span class="nf">foo</span><span class="w"> </span><span class="s">&quot;foo&quot;</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="s">&quot;./foo.ln&quot;</span><span class="p">;</span>
</code></pre></div>
<p>This makes renaming types and functions from other files simply choosing a different name for the alias:</p>
<div class="language-rs highlight"><pre><span></span><code><span class="k">type</span><span class="w"> </span><span class="nc">foofoo</span><span class="w"> </span><span class="s">&quot;foo&quot;</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="s">&quot;./foo.ln&quot;</span><span class="p">;</span>
<span class="k">fn</span><span class="w"> </span><span class="nf">foofoo</span><span class="w"> </span><span class="s">&quot;foo&quot;</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="s">&quot;./foo.ln&quot;</span><span class="p">;</span>
</code></pre></div>
<p>But for <em>most</em> use-cases, this feels redundant with the <code>foo "foo"</code> repetition, so the special <code>From{D}</code> type was defined:</p>
<div class="language-rs highlight"><pre><span></span><code><span class="k">type</span><span class="w"> </span><span class="nc">foo</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">From</span><span class="p">{</span><span class="s">&quot;./foo.ln&quot;</span><span class="p">};</span>
<span class="k">fn</span><span class="w"> </span><span class="nf">foo</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">From</span><span class="p">{</span><span class="s">&quot;./foo.ln&quot;</span><span class="p">};</span>
</code></pre></div>
<div class="language-rs highlight"><pre><span></span><code><span class="k">type</span><span class="w"> </span><span class="nc">foo</span><span class="w"> </span><span class="o">&lt;--</span><span class="w"> </span><span class="s">&quot;./foo.ln&quot;</span><span class="p">;</span>
<span class="k">fn</span><span class="w"> </span><span class="nf">foo</span><span class="w"> </span><span class="o">&lt;--</span><span class="w"> </span><span class="s">&quot;./foo.ln&quot;</span><span class="p">;</span>
</code></pre></div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This is intended to be just <code>&lt;-</code> once disambiguating infix and prefix types of the same type symbol works.</p>
</div>
<p>It has a little bit of compile-time magic built into it, grabbing the name of the type or function it is being assigned <em>to</em> and transforming it into an <code>Import</code> of that name and the specified dependency.</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>If <code>From{D}</code> is unable to find the type or function name, the <code>From</code> type instead becomes a compilation failure and the explicit <code>Import</code> syntax is required instead.</p>
<p>This is possible if you use an imported type as part of a sum or product type directly,</p>
<div class="language-rs highlight"><pre><span></span><code><span class="k">type</span><span class="w"> </span><span class="nc">myTuple</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">string</span><span class="p">,</span><span class="w"> </span><span class="nb">From</span><span class="p">{</span><span class="s">&quot;./foo.ln&quot;</span><span class="p">};</span><span class="w"> </span><span class="c1">// What type do you mean?</span>
</code></pre></div>
<p>or if you are calling a function from another by defining the function type implicitly</p>
<div class="language-rs highlight"><pre><span></span><code><span class="k">fn</span><span class="w"> </span><span class="nf">getFoo</span><span class="p">(</span><span class="n">foo</span><span class="p">:</span><span class="w"> </span><span class="nc">string</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="p">{</span><span class="nb">From</span><span class="p">{</span><span class="s">&quot;./foo.ln&quot;</span><span class="p">}}(</span><span class="n">foo</span><span class="p">);</span><span class="w"> </span><span class="c1">// What function do you mean?</span>
<span class="p">}</span>
</code></pre></div>
</div>
<p>It could feel tedious to specify the import path or dependency name and version for every type and function you are importing, but you can simply assign the dependency a type alias to deal with it.</p>
<p>The root scope includes a shim library for both Rust and Javascript to support the built-in functionality of the language that are assigned to the <code>RootBacking</code> name.</p>
<div class="language-rs highlight"><pre><span></span><code><span class="k">type</span><span class="p">{</span><span class="n">Rs</span><span class="p">}</span><span class="w"> </span><span class="n">RootBacking</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Rust</span><span class="p">{</span><span class="s">&quot;alan_std&quot;</span><span class="w"> </span><span class="o">@</span><span class="w"> </span><span class="s">&quot;https://github.com/alantech/alan.git&quot;</span><span class="p">};</span>
<span class="k">type</span><span class="p">{</span><span class="n">Js</span><span class="p">}</span><span class="w"> </span><span class="n">RootBacking</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Node</span><span class="p">{</span><span class="s">&quot;alan_std&quot;</span><span class="w"> </span><span class="o">@</span><span class="w"> </span><span class="s">&quot;https://github.com/alantech/alan.git&quot;</span><span class="p">};</span>
</code></pre></div>
<p>This is then used with the import syntax in built-in types:</p>
<div class="language-rs highlight"><pre><span></span><code><span class="k">type</span><span class="p">{</span><span class="n">Rs</span><span class="p">}</span><span class="w"> </span><span class="n">Error</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Binds</span><span class="p">{</span><span class="s">&quot;alan_std::AlanError&quot;</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">RootBacking</span><span class="p">};</span>
<span class="k">type</span><span class="p">{</span><span class="n">Js</span><span class="p">}</span><span class="w"> </span><span class="n">Error</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Binds</span><span class="p">{</span><span class="s">&quot;alan_std.AlanError&quot;</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">RootBacking</span><span class="p">};</span>
</code></pre></div>
<p>and functions:</p>
<div class="language-rs highlight"><pre><span></span><code><span class="k">fn</span><span class="p">{</span><span class="n">Rs</span><span class="p">}</span><span class="w"> </span><span class="n">storageBuffer</span><span class="w"> </span><span class="s">&quot;alan_std::storage_buffer_type&quot;</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">RootBacking</span><span class="w"> </span><span class="p">::</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="p">-&gt;</span><span class="w"> </span><span class="nc">BufferUsages</span><span class="p">;</span>
<span class="k">fn</span><span class="p">{</span><span class="n">Js</span><span class="p">}</span><span class="w"> </span><span class="n">storageBuffer</span><span class="w"> </span><span class="s">&quot;alan_std.storageBufferType&quot;</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">RootBacking</span><span class="w"> </span><span class="p">::</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="p">-&gt;</span><span class="w"> </span><span class="nc">BufferUsages</span><span class="p">;</span>
</code></pre></div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Remember, because these are native function imports, Alan can't automatically figure out the type signature, so it needs to be wrapped in a <code>Call{N, F}</code>, which is the <code>::</code> operator. The type operator precedence order is defined such that no grouping parens are needed for this.</p>
</div>
<p>By being baked into the type system itself, it can be extended naturally. You can make the module or function being imported be defined by a compile-time environment variable, for example, to provide compile-time options similar in concept to Rust features.</p>
<p>It is also intended to eventually add a capabilities system to the import logic, preventing libraries from having access to the filesystem, or sockets, etc, to improve security, which will be done via other built-in types, but this has not been fleshed out, yet.</p>
<h2 id="testing-your-code">Testing your Code</h2>
<p>The <code>Test</code> type exists to determine if your code is being compiled and run with <code>alan test</code>. You can use in during conditional compilation to define a <code>main</code> function that only exists during testing.</p>
<div class="language-rs highlight"><pre><span></span><code><span class="n">export</span><span class="w"> </span><span class="k">fn</span><span class="p">{</span><span class="n">Test</span><span class="p">}</span><span class="w"> </span><span class="n">main</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="o">..</span><span class="p">.</span>
</code></pre></div>
<p>This <code>Test</code> type also gates the existence of a built-in test suite for Alan. It consists of a <code>Testing</code> type used to set up a series of tests and support functions that create, mutate, and consume it.</p>
<p><code>describe</code> is the first function and it creates a top-level group for tests. There are several variants for better ergonomics, but at its core it takes a string describing the subject of a group of tests and returns a <code>Testing</code> object. It may be chained fluently or be provided a closure function.</p>
<p><code>it</code> is the next function. It takes a <code>Testing</code> object returned by a <code>describe</code> and specified a singular test topic, then returns the <code>Testing</code> object. It may also be chained fluently or be provided a closure function.</p>
<p><code>assert</code> is the third function. It takes a <code>Testing</code> object from an <code>it</code> as well as a comparison function, followed by two values to be compared against. Generally the first of these two arguments is the "actual" value computed during the test by your code, while the last argument is the "expected" value that has been hardwired in your test suite.</p>
<p><code>report</code> is the final function. It takes a <code>Testing</code> object and generates the test report, with color coding (red for failure, green for success, yellow for in-progress) and Unicode symbols ( for failure,  for success, and  for in-progress) to indicate test outcomes.</p>
<p>At the moment, the test suite will early-exit on the first failure, but it's intended to make that optional in the future. Much (but not all) of Alan's features are <a href="https://github.com/alantech/alan/blob/main/alan/test.ln">tested using this test suite</a>. That is currently the best source to understand its usage, but here's a trivial Alan app that only does something when you run <code>alan test</code> on it:</p>
<div class="language-rs highlight"><pre><span></span><code><span class="n">export</span><span class="w"> </span><span class="k">fn</span><span class="w"> </span><span class="nf">getFoo</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;foo&quot;</span><span class="p">;</span>
<span class="n">export</span><span class="w"> </span><span class="k">fn</span><span class="w"> </span><span class="nf">makeFooish</span><span class="w"> </span><span class="p">(</span><span class="n">s</span><span class="p">:</span><span class="w"> </span><span class="nc">string</span><span class="p">)</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">getFoo</span><span class="p">().</span><span class="n">concat</span><span class="p">(</span><span class="n">s</span><span class="p">);</span>

<span class="n">export</span><span class="w"> </span><span class="k">fn</span><span class="p">{</span><span class="n">Test</span><span class="p">}</span><span class="w"> </span><span class="n">main</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="n">describe</span><span class="p">(</span><span class="s">&quot;Foo&quot;</span><span class="p">)</span>
<span class="w">    </span><span class="p">.</span><span class="n">it</span><span class="p">(</span><span class="s">&quot;getFoo&quot;</span><span class="p">)</span>
<span class="w">      </span><span class="p">.</span><span class="n">assert</span><span class="p">(</span><span class="n">eq</span><span class="p">,</span><span class="w"> </span><span class="n">getFoo</span><span class="p">(),</span><span class="w"> </span><span class="s">&quot;foo&quot;</span><span class="p">)</span>
<span class="w">    </span><span class="p">.</span><span class="n">it</span><span class="p">(</span><span class="s">&quot;makeFooish&quot;</span><span class="p">,</span><span class="w"> </span><span class="k">fn</span><span class="w"> </span><span class="p">(</span><span class="n">test</span><span class="p">:</span><span class="w"> </span><span class="nc">Mut</span><span class="p">{</span><span class="n">Testing</span><span class="p">})</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="kd">let</span><span class="w"> </span><span class="n">bar</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;bar&quot;</span><span class="p">;</span>
<span class="w">      </span><span class="kd">let</span><span class="w"> </span><span class="n">bbb</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">bar</span><span class="p">.</span><span class="n">repeat</span><span class="p">(</span><span class="mi">3</span><span class="p">);</span>
<span class="w">      </span><span class="n">test</span>
<span class="w">        </span><span class="p">.</span><span class="n">assert</span><span class="p">(</span><span class="n">eq</span><span class="p">,</span><span class="w"> </span><span class="n">makeFooish</span><span class="p">(</span><span class="n">bar</span><span class="p">),</span><span class="w"> </span><span class="s">&quot;foobar&quot;</span><span class="p">)</span>
<span class="w">        </span><span class="p">.</span><span class="n">assert</span><span class="p">(</span><span class="n">eq</span><span class="p">,</span><span class="w"> </span><span class="n">makeFooish</span><span class="p">(</span><span class="n">bbb</span><span class="p">),</span><span class="w"> </span><span class="s">&quot;foobarbarbar&quot;</span><span class="p">);</span>
<span class="w">    </span><span class="p">})</span>
<span class="w">    </span><span class="p">.</span><span class="n">report</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div>
<p>Note that the closure function specifies the type as <code>Mut{Testing}</code> because the original <code>Testing</code> value is being mutated within the function and isn't returned back.</p>
<p>The test suite being defined in a conditonally-compiled <code>main</code> function makes it an executable only during tests, while not a compilation target under normal circumstances, which makes it possible to define the test suite for a library in the same file as the library rather than require a separate file, which is useful for unit tests.</p>
<p>It is planned to eventually have <code>alan test</code> with no compilation target provided to recursively search all <code>.ln</code> files in the <code>PWD</code> for files that have <code>export fn{Test} main</code> and run these tests sequentially.</p>
<p>It is already possible to both <code>alan test foo.ln</code> and <code>alan test --js foo.ln</code> to execute the test suite both natively and inside of Node.js. This is planned to eventually move to testing within a headless browser once the headless browsers support WebGPU so the GPGPU logic can be tested in the browser context as well, but for now GPGPU testing must be done only natively (or with a very complicated setup on supported operating systems implemented in the Alan monorepo involving Node, Chrome, and Rust simultaneously, but only on MacOS).</p>
<h2 id="want-to-learn-more">Want to Learn More?</h2>
<p>Every feature of the Alan language has now been covered. If you want to learn more, take a look at the <a href="./built_ins.md">built-in types, functions, and operators</a> and the <a href="./standard_library.md">standard library</a>.</p>







  
  






                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8z"/></svg>
  Back to top
</button>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
        <div class="md-social">
  
    
    
    
    
      
      
    
    <a href="https://github.com/alantech/alan" target="_blank" rel="noopener" title="github.com" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8M97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg>
    </a>
  
    
    
    
    
      
      
    
    <a href="https://www.reddit.com/r/alanlang/" target="_blank" rel="noopener" title="www.reddit.com" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M0 256C0 114.6 114.6 0 256 0s256 114.6 256 256-114.6 256-256 256H37.1c-13.7 0-20.5-16.5-10.9-26.2L75 437C28.7 390.7 0 326.7 0 256m349.6-102.4c23.6 0 42.7-19.1 42.7-42.7s-19.1-42.7-42.7-42.7c-20.6 0-37.8 14.6-41.8 34-34.5 3.7-61.4 33-61.4 68.4v.2c-37.5 1.6-71.8 12.3-99 29.1-10.1-7.8-22.8-12.5-36.5-12.5-33 0-59.8 26.8-59.8 59.8 0 24 14.1 44.6 34.4 54.1 2 69.4 77.6 125.2 170.6 125.2s168.7-55.9 170.6-125.3c20.2-9.6 34.1-30.2 34.1-54 0-33-26.8-59.8-59.8-59.8-13.7 0-26.3 4.6-36.4 12.4-27.4-17-62.1-27.7-100-29.1v-.2c0-25.4 18.9-46.5 43.4-49.9 4.4 18.8 21.3 32.8 41.5 32.8zm-172.5 93.3c16.7 0 29.5 17.6 28.5 39.3s-13.5 29.6-30.3 29.6-31.4-8.8-30.4-30.5S160.3 247 177 247zm190.1 38.3c1 21.7-13.7 30.5-30.4 30.5s-29.3-7.9-30.3-29.6 11.8-39.3 28.5-39.3 31.2 16.6 32.1 38.3zm-48.1 56.7c-10.3 24.6-34.6 41.9-63 41.9s-52.7-17.3-63-41.9c-1.2-2.9.8-6.2 3.9-6.5 18.4-1.9 38.3-2.9 59.1-2.9s40.7 1 59.1 2.9c3.1.3 5.1 3.6 3.9 6.5"/></svg>
    </a>
  
    
    
    
    
      
      
    
    <a href="https://discord.gg/2a68eK6F" target="_blank" rel="noopener" title="discord.gg" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M524.531 69.836a1.5 1.5 0 0 0-.764-.7A485 485 0 0 0 404.081 32.03a1.82 1.82 0 0 0-1.923.91 338 338 0 0 0-14.9 30.6 447.9 447.9 0 0 0-134.426 0 310 310 0 0 0-15.135-30.6 1.89 1.89 0 0 0-1.924-.91 483.7 483.7 0 0 0-119.688 37.107 1.7 1.7 0 0 0-.788.676C39.068 183.651 18.186 294.69 28.43 404.354a2.02 2.02 0 0 0 .765 1.375 487.7 487.7 0 0 0 146.825 74.189 1.9 1.9 0 0 0 2.063-.676A348 348 0 0 0 208.12 430.4a1.86 1.86 0 0 0-1.019-2.588 321 321 0 0 1-45.868-21.853 1.885 1.885 0 0 1-.185-3.126 251 251 0 0 0 9.109-7.137 1.82 1.82 0 0 1 1.9-.256c96.229 43.917 200.41 43.917 295.5 0a1.81 1.81 0 0 1 1.924.233 235 235 0 0 0 9.132 7.16 1.884 1.884 0 0 1-.162 3.126 301.4 301.4 0 0 1-45.89 21.83 1.875 1.875 0 0 0-1 2.611 391 391 0 0 0 30.014 48.815 1.86 1.86 0 0 0 2.063.7A486 486 0 0 0 610.7 405.729a1.88 1.88 0 0 0 .765-1.352c12.264-126.783-20.532-236.912-86.934-334.541M222.491 337.58c-28.972 0-52.844-26.587-52.844-59.239s23.409-59.241 52.844-59.241c29.665 0 53.306 26.82 52.843 59.239 0 32.654-23.41 59.241-52.843 59.241m195.38 0c-28.971 0-52.843-26.587-52.843-59.239s23.409-59.241 52.843-59.241c29.667 0 53.307 26.82 52.844 59.239 0 32.654-23.177 59.241-52.844 59.241"/></svg>
    </a>
  
    
    
      
    
    
    
      
      
    
    <a href="https://techhub.social/@ISV_Damocles" target="_blank" rel="noopener me" title="techhub.social" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M433 179.11c0-97.2-63.71-125.7-63.71-125.7-62.52-28.7-228.56-28.4-290.48 0 0 0-63.72 28.5-63.72 125.7 0 115.7-6.6 259.4 105.63 289.1 40.51 10.7 75.32 13 103.33 11.4 50.81-2.8 79.32-18.1 79.32-18.1l-1.7-36.9s-36.31 11.4-77.12 10.1c-40.41-1.4-83-4.4-89.63-54a102.5 102.5 0 0 1-.9-13.9c85.63 20.9 158.65 9.1 178.75 6.7 56.12-6.7 105-41.3 111.23-72.9 9.8-49.8 9-121.5 9-121.5m-75.12 125.2h-46.63v-114.2c0-49.7-64-51.6-64 6.9v62.5h-46.33V197c0-58.5-64-56.6-64-6.9v114.2H90.19c0-122.1-5.2-147.9 18.41-175 25.9-28.9 79.82-30.8 103.83 6.1l11.6 19.5 11.6-19.5c24.11-37.1 78.12-34.8 103.83-6.1 23.71 27.3 18.4 53 18.4 175z"/></svg>
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
      <div class="md-progress" data-md-component="progress" role="progressbar"></div>
    
    
    <script id="__config" type="application/json">{"base": "..", "features": ["content.code.copy", "content.code.select", "navigation.expand", "navigation.indexes", "navigation.instant", "navigation.instant.progress", "navigation.tabs", "navigation.tabs.sticky", "navigation.top", "navigation.tracking", "navigation.sections", "search.highlight", "search.share", "search.suggest", "toc.follow", "toc.integrate"], "search": "../assets/javascripts/workers/search.f8cc74c7.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="../assets/javascripts/bundle.c8b220af.min.js"></script>
      
        <script src="../assets/external/unpkg.com/tablesort@5.3.0/dist/tablesort.min.js"></script>
      
        <script src="../javascripts/tablesort.js"></script>
      
    
  </body>
</html>